(this["webpackJsonpmovie-hub"]=this["webpackJsonpmovie-hub"]||[]).push([[0],{65:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),c=t(22),o=t.n(c),a=t(15),s=t.n(a),u=t(10),l=t(5),d=t(16),h=t(6);function f(e,n){return e}var b,m={movies:{upcoming:[],popular:[],trending:[],genres:[]},tv:{trending:[],genres:[]}},p={poster:["w92","w154","w185","w342","w500","w780","original"],backdrop:["w300","w780","w1280","original"],profile:["w45","w185","original"]},j=t(2),g=function(){var e=r.createContext(void 0);return[function(){var n=r.useContext(e);if(void 0===n)throw new Error("useContext must be inside a Provider with a value");return n},e.Provider]}(),v=Object(h.a)(g,2),x=(v[0],v[1]),O=function(e){var n=e.children,t=Object(r.useReducer)(f,m),i=Object(h.a)(t,2),c=i[0],o=i[1];return Object(j.jsx)(x,{value:Object(d.a)(Object(d.a)({},c),{},{dispatch:o}),children:n})},w=t(7),y=t(43),k=["primary","onClick","children","disabled"],z=l.c.button(b||(b=Object(w.a)(["\n  width: min-content;\n  height: min-content;\n  color: ",";\n\n  border-radius: ",";\n  border: 1px solid ",";\n  font-weight: 600;\n\n  background-color: ",";\n\n  text-transform: capitalize;\n  cursor: pointer;\n\n  padding-block: ",";\n  padding-inline: ",";\n"])),(function(e){var n=e.theme;return e.primary?n.colors.surface1:n.colors.text1}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.colors.text1}),(function(e){var n=e.theme;return e.primary?n.colors.text1:"inherit"}),(function(e){return e.theme.size.xxxs}),(function(e){return e.theme.size.md})),_=function(e){var n=e.primary,t=void 0===n||n,r=e.onClick,i=e.children,c=e.disabled,o=void 0!==c&&c,a=Object(y.a)(e,k);return Object(j.jsx)(z,Object(d.a)(Object(d.a)({primary:t,onClick:r,disabled:o},a),{},{children:i}))},S={apiKey:"f274625ee8526fcb3150182ed7668864",baseURL:"https://api.themoviedb.org/3/",imageBaseURL:"https://image.tmdb.org/t/p/"},M=S.apiKey,C=S.baseURL,L=S.imageBaseURL,T=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(C).concat(e,"?api_key=").concat(M).concat(n)};function P(e,n){var t={src:"",srcset:""};if(e){t.src="".concat(L,"original").concat(e);var r=p[n].filter((function(e){return"original"!==e})).map((function(n){return"".concat(L).concat(n).concat(e," ").concat(n.substring(1),"w")}));t.srcset=r.join(", ")}return t}var Q=function(e){return e.map((function(e){return{title:e.title,id:e.id,backdrop_path:e.backdrop_path,poster_path:e.poster_path,vote_average:e.vote_average,release_date:e.release_date}}))},R=function(e){return e.map((function(e){var n=e.name,t=e.id,r=e.backdrop_path,i=e.poster_path,c=e.vote_average;return{title:n,release_date:e.first_air_date,id:t,backdrop_path:r,poster_path:i,vote_average:c}}))};function U(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,i),clearTimeout(n)}),t)}}var E,B,D,F,I,W,A,G,H,J,K,V=l.c.div(E||(E=Object(w.a)(["\n  position: relative;\n"]))),q=l.c.span(B||(B=Object(w.a)(["\n  color: white;\n  background: rgba(20, 20, 20, 0.5);\n\n  cursor: pointer;\n  font-size: 6em;\n\n  position: absolute;\n  top: ",";\n  height: ",";\n  width: 4%;\n\n  text-align: center;\n  display: none;\n  justify-content: center;\n  align-items: center;\n\n  visibility: ",";\n\n  &:nth-of-type(1) {\n    left: 0;\n  }\n\n  &:nth-of-type(2) {\n    right: 0;\n  }\n  ",":hover & {\n    display: inline-flex;\n  }\n"])),(function(e){return e.theme.size.xs}),(function(e){return e.bsize}),(function(e){return e.isHidden?"hidden":"visible"}),V),N=l.c.ul(D||(D=Object(w.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  gap: ",";\n\n  padding-inline: ",";\n  padding-block: ",";\n\n  overflow-x: auto;\n  overscroll-behavior-inline: contain;\n  scroll-snap-type: inline mandatory;\n  scroll-padding-left: ",";\n  scroll-padding-right: ",";\n  scroll-padding-inline: ",";\n\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n\n  @media (prefers-reduced-motion: no-preference) {\n    & {\n      scroll-behavior: smooth;\n    }\n  }\n"])),(function(e){return e.theme.size.xl}),(function(e){return e.theme.size.lg}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.size.xl}),(function(e){return e.theme.size.xl}),(function(e){return e.theme.size.xl})),X=l.c.li(F||(F=Object(w.a)(["\n  display: inline-block;\n  inline-size: ",";\n  block-size: min-content;\n"])),(function(e){return e.inlineSize})),Y=l.c.figure(I||(I=Object(w.a)(["\n  scroll-snap-align: start;\n\n  display: grid;\n  gap: calc("," / 2);\n  margin: 0;\n\n  cursor: pointer;\n  user-select: none;\n\n  outline-offset: 12px;\n\n  &:focus {\n    outline-offset: 7px;\n  }\n"])),(function(e){return e.theme.size.lg})),Z=l.c.img(W||(W=Object(w.a)(["\n  inline-size: ",";\n  block-size: ",";\n\n  aspect-ratio: ",";\n\n  object-fit: cover;\n\n  border-radius: 1ex;\n  border: none;\n  overflow: hidden;\n  background-image: ",";\n"])),(function(e){return e.inlineSize}),(function(e){return e.blockSize}),(function(e){return e.aspectRatio}),(function(e){return"linear-gradient(to bottom, ".concat(e.theme.colors.surface1,", ").concat(e.theme.colors.surface2,")")})),$=l.c.figcaption(A||(A=Object(w.a)(["\n  line-height: ",";\n  font-weight: 600;\n  font-size: ",";\n\n  & > p {\n    font-size: ",";\n    font-weight: 400;\n    color: ",";\n    padding-block: ",";\n  }\n"])),(function(e){return e.theme.size.md}),(function(e){return e.theme.size.md}),(function(e){return e.theme.size.sm}),(function(e){return e.theme.colors.text2}),(function(e){return e.theme.size.sm})),ee=function(e){var n=e.list,t=e.ratio,i=void 0===t?"1/1":t,c=e.loading,o=void 0!==c&&c,a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1").split("/").map((function(e){return+e})),n=Object(h.a)(e,2),t=n[0],r=n[1],i="10rem",c=t>r?i:"".concat(10*r/t,"rem"),o=t>r?"".concat(10*t/r,"rem"):i;return[c,o]}(i),s=Object(h.a)(a,2),u=s[0],l=s[1],d=Object(r.useRef)(document.createElement("ul")),f=Object(r.useState)(!0),b=Object(h.a)(f,2),m=b[0],p=b[1],g=Object(r.useState)(!1),v=Object(h.a)(g,2),x=v[0],O=v[1],w=o?Array(10).fill({image:{}}):n;return Object(j.jsxs)(V,{children:[!o&&!("ontouchstart"in window)&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(q,{bsize:u,onClick:function(){var e=d.current,n=e.offsetWidth,t=e.scrollLeft;d.current.scrollTo({top:0,left:t-n,behavior:"smooth"})},isHidden:m,children:"\u2039"}),Object(j.jsx)(q,{bsize:u,onClick:function(){var e=d.current,n=e.offsetWidth,t=e.scrollLeft;d.current.scrollTo({top:0,left:t+n,behavior:"smooth"})},isHidden:x,children:"\u203a"})]}),Object(j.jsx)(N,{ref:d,onScroll:U((function(){var e=d.current,n=e.offsetWidth,t=e.scrollLeft;n+t>=e.scrollWidth?O(!0):x&&O(!1),0===t?p(!0):m&&p(!1)})),children:w.map((function(e,n){return Object(j.jsx)(ne,{item:e,width:l,height:u,ratio:i},e.id||n)}))})]})},ne=function(e){var n=e.height,t=e.item,r=e.width,i=e.ratio;return Object(j.jsx)(X,{inlineSize:r,children:Object(j.jsxs)(Y,{children:[Object(j.jsx)("picture",{children:t.image.src?Object(j.jsx)(Z,{aspectRatio:i,inlineSize:r,blockSize:n,alt:t.title,loading:"lazy",srcSet:t.image.srcset,src:t.image.src}):Object(j.jsx)(s.a,{width:r,height:n})}),Object(j.jsxs)($,{children:[t.title||Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(s.a,{}),Object(j.jsx)(s.a,{width:"65%"})]}),t.caption&&Object(j.jsx)("p",{children:t.caption})]})]})})},te=l.c.header(G||(G=Object(w.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  justify-content: start;\n  padding-inline: ",";\n  padding-block: ",";\n  grid-gap: ",";\n\n  & h1 {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.size.lg}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.size.xl})),re=l.c.div(H||(H=Object(w.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  width: min-content;\n  border-radius: ",";\n  border: 1px solid ",";\n\n  & > button {\n    border: none;\n    border-radius: inherit;\n  }\n"])),(function(e){return e.theme.size.md}),(function(e){return e.theme.colors.text1})),ie=t(30),ce=t.n(ie),oe=t(42),ae=function(){var e=Object(oe.a)(ce.a.mark((function e(n){var t,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),new Error("Api Error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}();!function(e){e.Movie="movie",e.Tv="tv"}(J||(J={})),function(e){e.Popular="popular",e.Upcoming="upcoming"}(K||(K={}));var se=function(e,n){return Object(u.useQuery)(["genre",e,n],(function(){return ae(T("discover/".concat(e),"&with_genres=".concat(n)))}),{select:function(n){return e===J.Movie?Q(n.results):R(n.results)}})};var ue,le=function(){return Object(u.useQuery)("genres",(function(){return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Promise.all(n.map(ae))}(T("genre/tv/list"),T("genre/movie/list"))}),{select:function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];return{tvGenres:t.genres,movieGenres:r.genres}}})},de=function(e){var n=e.triggerOnce,t=e.threshold,i=void 0===t?0:t,c=e.root,o=void 0===c?null:c,a=e.rootMargin,s=void 0===a?"0%":a,u=Object(r.useRef)(null),l=Object(r.useState)(!1),d=Object(h.a)(l,2),f=d[0],b=d[1];return Object(r.useEffect)((function(){var e=null===u||void 0===u?void 0:u.current;if(!!window.IntersectionObserver&&e){var t=new IntersectionObserver((function(e,t){e.forEach((function(e){b(e.isIntersecting),e.isIntersecting&&n&&t.disconnect()}))}),{root:o,rootMargin:s,threshold:i});return t.observe(e),function(){return t.disconnect()}}}),[]),{ref:u,inView:f}},he=l.c.section(ue||(ue=Object(w.a)(["\n  background-image: ",";\n"])),(function(e){return e.isBackdrop?"linear-gradient(\n      to bottom,\n      ".concat(e.theme.colors.surface2,",\n      ").concat(e.theme.colors.surface3,"\n    )"):"none"})),fe=function(e){var n=e.genre,t=e.index,i=de({triggerOnce:!0}),c=i.ref,o=i.inView,a=Object(r.useState)(J.Movie),s=Object(h.a)(a,2),u=s[0],l=s[1],d=t%2===1;return Object(j.jsxs)(he,{ref:c,isBackdrop:d,children:[Object(j.jsxs)(te,{children:[Object(j.jsx)("h1",{children:n.name}),Object(j.jsxs)(re,{children:[Object(j.jsx)(_,{primary:u===J.Movie,onClick:function(){return l(J.Movie)},children:J.Movie}),Object(j.jsx)(_,{primary:u===J.Tv,onClick:function(){return l(J.Tv)},children:J.Tv})]})]}),o?Object(j.jsx)(be,{genreId:n.id,selectedMedia:u,isBackdrop:d}):Object(j.jsx)(ee,{list:[],loading:!0,ratio:d?"16/9":"2/3"})]})},be=function(e){var n=e.genreId,t=e.selectedMedia,r=e.isBackdrop,i=se(t,n),c=i.data,o=void 0===c?[]:c,a=i.isLoading,s=o.map((function(e){var n=e.id,t=e.title,i=e.poster_path,c=e.backdrop_path,o=e.release_date;return{id:n,title:t,image:P(r?c:i,r?"backdrop":"poster"),caption:new Date(o).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}}))||[];return Object(j.jsx)(ee,{list:s,ratio:r?"16/9":"2/3",loading:a})},me=function(){var e=le(),n=e.data,t=e.isLoading,r=n||{},i=r.tvGenres,c=void 0===i?[]:i,o=r.movieGenres,a=void 0===o?[]:o,s=c.map((function(e){return e.id})),u=a.filter((function(e){var n=e.id;return s.includes(n)}));return Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)(ee,{list:[],loading:!0,ratio:"2/3"}):u.map((function(e,n){return Object(j.jsx)(fe,{genre:e,index:n},e.id)}))})};var pe,je=function(e){return Object(u.useQuery)(["movies",e],(function(){return ae(T("movie/".concat(e)))}),{select:function(e){return K.Upcoming,Q(e.results)}})},ge=l.c.section(pe||(pe=Object(w.a)(["\n  background-image: linear-gradient(\n    to bottom,\n    ",",\n    ","\n  );\n"])),(function(e){return e.theme.colors.surface2}),(function(e){return e.theme.colors.surface3})),ve=function(){var e=Object(r.useState)(K.Popular),n=Object(h.a)(e,2),t=n[0],i=n[1],c=je(t),o=c.data,a=void 0===o?[]:o,s=c.isLoading,u=a.map((function(e){var n=e.id,t=e.title,r=e.backdrop_path,i=e.release_date;return{id:n,title:t,image:P(r,"backdrop"),caption:new Date(i).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}})),l=function(){return i(t===K.Popular?K.Upcoming:K.Popular)};return Object(j.jsxs)(ge,{id:"discover-movies",children:[Object(j.jsxs)(te,{children:[Object(j.jsx)("h1",{children:"Discover Movies"}),Object(j.jsxs)(re,{children:[Object(j.jsx)(_,{primary:t===K.Popular,disabled:t===K.Popular,onClick:l,children:"Popular"}),Object(j.jsx)(_,{primary:t===K.Upcoming,disabled:t===K.Upcoming,onClick:l,children:"Upcoming"})]})]}),Object(j.jsx)(ee,{list:u,loading:s,ratio:"16/9"})]})};var xe,Oe=function(e){return Object(u.useQuery)(["trending",e],(function(){return ae(T("trending/".concat(e,"/day")))}),{select:function(n){return e===J.Movie?Q(n.results):R(n.results)}})},we=function(){var e=Object(r.useState)(J.Movie),n=Object(h.a)(e,2),t=n[0],i=n[1],c=Oe(t),o=c.data,a=void 0===o?[]:o,s=c.isLoading,u=a.map((function(e){var n=e.id,t=e.title,r=e.poster_path,i=e.release_date;return{id:n,title:t,image:P(r,"poster"),caption:new Date(i).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}})),l=function(){return i(t===J.Movie?J.Tv:J.Movie)};return Object(j.jsxs)("section",{id:"trending",children:[Object(j.jsxs)(te,{children:[Object(j.jsx)("h1",{children:"Trending"}),Object(j.jsxs)(re,{children:[Object(j.jsx)(_,{primary:t===J.Movie,disabled:t===J.Movie,onClick:l,children:J.Movie}),Object(j.jsx)(_,{primary:t===J.Tv,disabled:t===J.Tv,onClick:l,children:J.Tv})]})]}),Object(j.jsx)(ee,{list:u,ratio:"2/3",loading:s})]})},ye=function(){var e,n=null===(e=window)||void 0===e?void 0:e.matchMedia("(prefers-color-scheme: dark)"),t=Object(r.useState)(null===n||void 0===n?void 0:n.matches),i=Object(h.a)(t,2),c=i[0],o=i[1];return Object(r.useEffect)((function(){var e=function(e){var n=e.matches;return o(n)};return null===n||void 0===n||n.addListener(e),function(){return n.removeEventListener("change",e)}}),[n]),c},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n="200",t="100%",r="50%",i={brand:"hsl(".concat(n," ").concat(t," ").concat(r),text1:"hsl(".concat(n," ").concat(t," 10%)"),text2:"hsl(".concat(n," 30% 30%)"),surface1:"hsl(".concat(n," 25% 90%)"),surface2:"hsl(".concat(n," 20% 99%)"),surface3:"hsl(".concat(n," 20% 92%)"),surface4:"hsl(".concat(n," 20% 85%)"),surfaceShadow:"hsl(".concat(n," 10% 20%)"),shadowStrength:"0.02"},c={brand:"hsl(".concat(n," calc(").concat(t," / 2) calc(").concat(r," / 1.5))"),text1:"hsl(".concat(n," 15% 85%)"),text2:"hsl(".concat(n," 5% 65%)"),surface1:"hsl(".concat(n," 10% 10%)"),surface2:"hsl(".concat(n," 10% 15%)"),surface3:"hsl(".concat(n," 5% 20%)"),surface4:"hsl(".concat(n," 5% 25%)"),surfaceShadow:"hsl(".concat(n," 50% 3%)"),shadowStrength:"0.8"};function o(e){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=1,r=1.25;e>1;)t=n?t*r:t/r,e--;return"calc(1rem * ".concat(t,")")}return{colors:e?c:i,size:{xxxs:o(5,!1),xxs:o(4,!1),xs:o(3,!1),sm:o(2,!1),md:o(1),lg:o(2),xl:o(3),xxl:o(4),xxxl:o(5)},mediaQueries:{below1400:"only screen and (max-width: 1400px)",below768:"only screen and (max-width: 768px)",below375:"only screen and (max-width: 375px)"}}},ze=(ke(),Object(l.b)(xe||(xe=Object(w.a)(["\n  html {\n    /* grow as per screen width */\n    font-size: calc(1px + 1vw);\n    line-height: calc(1.5rem + 0.5vw);\n    block-size: 100%;\n    background-color: ",";\n    color: ",";\n    font-family: 'Roboto Mono', monospace, system-ui, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    @media "," {\n      font-size: 16px;\n    }\n\n    @media "," {\n      font-size: 14px;\n    }\n\n    @media "," {\n      font-size: 12px;\n    }\n  }\n\n  body {\n    background-color: ",";\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"])),(function(e){return e.theme.colors.surface1}),(function(e){return e.theme.colors.text1}),(function(e){return e.theme.mediaQueries.below1400}),(function(e){return e.theme.mediaQueries.below768}),(function(e){return e.theme.mediaQueries.below375}),(function(e){return e.theme.colors.surface1})));var _e=function(){var e=ye(),n=ke(e),t=new u.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:1/0}}});return Object(j.jsxs)(l.a,{theme:n,children:[Object(j.jsx)(ze,{}),Object(j.jsx)(O,{children:Object(j.jsx)(a.SkeletonTheme,{color:n.colors.surface2,highlightColor:n.colors.surface1,children:Object(j.jsxs)(u.QueryClientProvider,{client:t,children:[Object(j.jsx)(we,{}),Object(j.jsx)(ve,{}),Object(j.jsx)(me,{})]})})})]})},Se=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),c(e),o(e)}))};o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(_e,{})}),document.getElementById("root")),Se()}},[[65,1,2]]]);
//# sourceMappingURL=main.8e72b0ab.chunk.js.map