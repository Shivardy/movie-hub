(this["webpackJsonpmovie-hub"]=this["webpackJsonpmovie-hub"]||[]).push([[0],{36:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),c=t(18),o=t.n(c),a=t(7),s=t.n(a),l=t(3),u=t(6),d=t(2),b=t(5);var h={movies:{upcoming:[],popular:[],trending:[],genres:[]},tv:{trending:[],genres:[]}},f={poster:["w92","w154","w185","w342","w500","w780","original"],backdrop:["w300","w780","w1280","original"],profile:["w45","w185","original"]},p={apiKey:"f274625ee8526fcb3150182ed7668864",baseURL:"https://api.themoviedb.org/3/",imageBaseURL:"https://image.tmdb.org/t/p/"},m=p.apiKey,j=p.baseURL,g=p.imageBaseURL,v=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(j).concat(e,"?api_key=").concat(m).concat(n)};function O(e,n){var t={src:"",srcset:""};if(e){t.src="".concat(g,"original").concat(e);var r=f[n].filter((function(e){return"original"!==e})).map((function(n){return"".concat(g).concat(n).concat(e," ").concat(n.substring(1),"w")}));t.srcset=r.join(", ")}return t}var x=function(e){return e.map((function(e){return{title:e.title,id:e.id,backdrop_path:e.backdrop_path,poster_path:e.poster_path,vote_average:e.vote_average,release_date:e.release_date}}))},y=function(e){return e.map((function(e){var n=e.name,t=e.id,r=e.backdrop_path,i=e.poster_path,c=e.vote_average;return{title:n,release_date:e.first_air_date,id:t,backdrop_path:r,poster_path:i,vote_average:c}}))};function w(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,i),clearTimeout(n)}),t)}}function _(e,n){switch(n.type){case"UPDATE_TRENDING_MOVIES_BY_DAY":return Object(d.a)(Object(d.a)({},e),{},{movies:Object(d.a)(Object(d.a)({},e.movies),{},{trending:x(n.payload.results)})});case"UPDATE_TRENDING_TV_BY_DAY":return Object(d.a)(Object(d.a)({},e),{},{tv:Object(d.a)(Object(d.a)({},e.movies),{},{trending:y(n.payload.results)})});case"UPDATE_POPULAR_MOVIES":return Object(d.a)(Object(d.a)({},e),{},{movies:Object(d.a)(Object(d.a)({},e.movies),{},{popular:x(n.payload.results)})});case"UPDATE_UPCOMING_MOVIES":return Object(d.a)(Object(d.a)({},e),{},{movies:Object(d.a)(Object(d.a)({},e.movies),{},{upcoming:x(n.payload.results)})});case"UPDATE_MOVIES_BY_GENRE":var t=e.movies.genres.map((function(e){return e.id===n.payload.genreId&&(e.data=x(n.payload.data.results)),e}));return Object(d.a)(Object(d.a)({},e),{},{movies:Object(d.a)(Object(d.a)({},e.movies),{},{genres:t})});case"UPDATE_TV_BY_GENRE":var r=e.tv.genres.map((function(e){return e.id===n.payload.genreId&&(e.data=y(n.payload.data.results)),e}));return Object(d.a)(Object(d.a)({},e),{},{tv:Object(d.a)(Object(d.a)({},e.tv),{},{genres:r})});case"UPDATE_GENRES":return Object(d.a)(Object(d.a)({},e),{},{tv:Object(d.a)(Object(d.a)({},e.tv),{},{genres:n.payload.tvGenres.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:[]})}))}),movies:Object(d.a)(Object(d.a)({},e.movies),{},{genres:n.payload.movieGenres.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{data:[]})}))})});default:return e}}var k,z,E,T,S,P,M,D,U,A,C,I,R=t(1),V=function(){var e=r.createContext(void 0);return[function(){var n=r.useContext(e);if(void 0===n)throw new Error("useContext must be inside a Provider with a value");return n},e.Provider]}(),B=Object(b.a)(V,2),G=B[0],L=B[1],N=function(e){var n=e.children,t=Object(r.useReducer)(_,h),i=Object(b.a)(t,2),c=i[0],o=i[1];return Object(R.jsx)(L,{value:Object(d.a)(Object(d.a)({},c),{},{dispatch:o}),children:n})},Y=t(4),F=t(21),Q=t(22),W=["primary","onClick","children","disabled"],H=l.c.button(k||(k=Object(Y.a)(["\n  width: min-content;\n  height: min-content;\n  color: ",";\n\n  border-radius: ",";\n  border: 1px solid ",";\n  font-weight: 600;\n\n  background-color: ",";\n\n  text-transform: capitalize;\n  cursor: pointer;\n\n  padding-block: ",";\n  padding-inline: ",";\n"])),(function(e){var n=e.theme;return e.primary?n.colors.surface1:n.colors.text1}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.colors.text1}),(function(e){var n=e.theme;return e.primary?n.colors.text1:"inherit"}),(function(e){return e.theme.size.xxs}),(function(e){return e.theme.size.xl})),J=function(e){var n=e.primary,t=void 0===n||n,r=e.onClick,i=e.children,c=e.disabled,o=void 0!==c&&c,a=Object(Q.a)(e,W);return Object(R.jsx)(H,Object(d.a)(Object(d.a)({primary:t,onClick:r,disabled:o},a),{},{children:i}))},K=l.c.div(z||(z=Object(Y.a)(["\n  position: relative;\n"]))),q=l.c.span(E||(E=Object(Y.a)(["\n  color: white;\n  background: rgba(20, 20, 20, 0.5);\n\n  cursor: pointer;\n  font-size: 6em;\n\n  position: absolute;\n  top: ",";\n  height: ",";\n  width: 4%;\n\n  text-align: center;\n  display: none;\n  justify-content: center;\n  align-items: center;\n\n  visibility: ",";\n\n  &:nth-of-type(1) {\n    left: 0;\n  }\n\n  &:nth-of-type(2) {\n    right: 0;\n  }\n  ",":hover & {\n    display: inline-flex;\n  }\n"])),(function(e){return e.theme.size.xs}),(function(e){return e.bsize}),(function(e){return e.isHidden?"hidden":"visible"}),K),X=l.c.ul(T||(T=Object(Y.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  gap: ",";\n\n  padding-inline: ",";\n  padding-block: ",";\n\n  overflow-x: auto;\n  overscroll-behavior-inline: contain;\n  scroll-snap-type: inline mandatory;\n  scroll-padding-left: ",";\n  scroll-padding-right: ",";\n  scroll-padding-inline: ",";\n\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n\n  @media (prefers-reduced-motion: no-preference) {\n    & {\n      scroll-behavior: smooth;\n    }\n  }\n"])),(function(e){return e.theme.size.xl}),(function(e){return e.theme.size.lg}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.size.xl}),(function(e){return e.theme.size.xl}),(function(e){return e.theme.size.xl})),Z=l.c.li(S||(S=Object(Y.a)(["\n  display: inline-block;\n  inline-size: ",";\n  block-size: min-content;\n"])),(function(e){return e.inlineSize})),$=l.c.figure(P||(P=Object(Y.a)(["\n  scroll-snap-align: start;\n\n  display: grid;\n  gap: calc("," / 2);\n  margin: 0;\n\n  cursor: pointer;\n  user-select: none;\n\n  outline-offset: 12px;\n\n  &:focus {\n    outline-offset: 7px;\n  }\n"])),(function(e){return e.theme.size.lg})),ee=l.c.img(M||(M=Object(Y.a)(["\n  inline-size: ",";\n  block-size: ",";\n\n  aspect-ratio: ",";\n\n  object-fit: cover;\n\n  border-radius: 1ex;\n  border: none;\n  overflow: hidden;\n  background-image: ",";\n"])),(function(e){return e.inlineSize}),(function(e){return e.blockSize}),(function(e){return e.aspectRatio}),(function(e){return"linear-gradient(to bottom, ".concat(e.theme.colors.surface1,", ").concat(e.theme.colors.surface2,")")})),ne=l.c.figcaption(D||(D=Object(Y.a)(["\n  line-height: ",";\n  font-weight: 600;\n  font-size: ",";\n\n  & > p {\n    font-size: ",";\n    font-weight: 400;\n    color: ",";\n    padding-block: ",";\n  }\n"])),(function(e){return e.theme.size.md}),(function(e){return e.theme.size.md}),(function(e){return e.theme.size.sm}),(function(e){return e.theme.colors.text2}),(function(e){return e.theme.size.sm})),te=function(e){var n=e.list,t=e.ratio,i=void 0===t?"1/1":t,c=e.loading,o=void 0!==c&&c,a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1").split("/").map((function(e){return+e})),n=Object(b.a)(e,2),t=n[0],r=n[1],i="10rem",c=t>r?i:"".concat(10*r/t,"rem"),o=t>r?"".concat(10*t/r,"rem"):i;return[c,o]}(i),s=Object(b.a)(a,2),l=s[0],u=s[1],d=Object(r.useRef)(document.createElement("ul")),h=Object(r.useState)(!0),f=Object(b.a)(h,2),p=f[0],m=f[1],j=Object(r.useState)(!1),g=Object(b.a)(j,2),v=g[0],O=g[1],x=o?Array(10).fill({image:{}}):n;return Object(R.jsxs)(K,{children:[Object(R.jsx)(q,{bsize:l,onClick:function(){var e=d.current,n=e.offsetWidth,t=e.scrollLeft;d.current.scrollTo({top:0,left:t-n,behavior:"smooth"})},isHidden:p,children:"\u2039"}),Object(R.jsx)(q,{bsize:l,onClick:function(){var e=d.current,n=e.offsetWidth,t=e.scrollLeft;d.current.scrollTo({top:0,left:t+n,behavior:"smooth"})},isHidden:v,children:"\u203a"}),Object(R.jsx)(X,{ref:d,onScroll:w((function(){var e=d.current,n=e.offsetWidth,t=e.scrollLeft;n+t>=e.scrollWidth?O(!0):v&&O(!1),0===t?m(!0):p&&m(!1)})),children:x.map((function(e,n){return Object(R.jsx)(re,{item:e,width:u,height:l,ratio:i},e.id||n)}))})]})},re=function(e){var n=e.height,t=e.item,r=e.width,i=e.ratio;return Object(R.jsx)(Z,{inlineSize:r,children:Object(R.jsxs)($,{children:[Object(R.jsx)("picture",{children:t.image.src?Object(R.jsx)(ee,{aspectRatio:i,inlineSize:r,blockSize:n,alt:t.title,loading:"lazy",srcSet:t.image.srcset,src:t.image.src}):Object(R.jsx)(s.a,{width:r,height:n})}),Object(R.jsxs)(ne,{children:[t.title||Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(s.a,{}),Object(R.jsx)(s.a,{width:"65%"})]}),t.caption&&Object(R.jsx)("p",{children:t.caption})]})]})})},ie=l.c.header(U||(U=Object(Y.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  justify-content: start;\n  padding-inline: ",";\n  padding-block: ",";\n  grid-gap: ",";\n\n  & h1 {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.size.lg}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.size.xs}),(function(e){return e.theme.size.xl})),ce=l.c.div(A||(A=Object(Y.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  width: min-content;\n  border-radius: ",";\n  border: 1px solid ",";\n\n  & > button {\n    border: none;\n    border-radius: inherit;\n  }\n"])),(function(e){return e.theme.size.md}),(function(e){return e.theme.colors.text1})),oe=t(15),ae=t.n(oe),se=t(20),le=function(){var e=Object(se.a)(ae.a.mark((function e(n){var t,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),new Error("Api Error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),ue=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Promise.all(n.map(le))},de={fetcher:le,revalidateOnFocus:!1,revalidateIfStale:!1,onErrorRetry:function(e,n,t,r,i){var c=i.retryCount;c>=3||setTimeout((function(){return r({retryCount:c})}),3e3)}};!function(e){e.Movie="movie",e.Tv="tv"}(C||(C={}));var be,he,fe=l.c.section(I||(I=Object(Y.a)(["\n  background-image: ",";\n"])),(function(e){return e.isBackdrop?"linear-gradient(\n      to bottom,\n      ".concat(e.theme.colors.surface2,",\n      ").concat(e.theme.colors.surface3,"\n    )"):"none"})),pe=function(e){var n=e.genre,t=e.index,i=Object(F.a)({triggerOnce:!0}),c=i.ref,o=i.inView,a=Object(r.useState)(C.Movie),s=Object(b.a)(a,2),l=s[0],u=s[1],d=t%2===1;return Object(R.jsxs)(fe,{ref:c,isBackdrop:d,children:[Object(R.jsxs)(ie,{children:[Object(R.jsx)("h1",{children:n.name}),Object(R.jsxs)(ce,{children:[Object(R.jsx)(J,{primary:l===C.Movie,onClick:function(){return u(C.Movie)},children:C.Movie}),Object(R.jsx)(J,{primary:l===C.Tv,onClick:function(){return u(C.Tv)},children:C.Tv})]})]}),o?Object(R.jsx)(me,{genreId:n.id,selectedMedia:l,isBackdrop:d}):Object(R.jsx)(te,{list:[],loading:!0,ratio:d?"16/9":"2/3"})]})},me=function(e){var n=e.genreId,t=e.selectedMedia,r=e.isBackdrop,i=G(),c=i.dispatch,o=i.movies,a=i.tv,s=Object(u.b)(v("discover/".concat(t),"&with_genres=".concat(n)),{onSuccess:function(e){c({type:t===C.Movie?"UPDATE_MOVIES_BY_GENRE":"UPDATE_TV_BY_GENRE",payload:{genreId:n,data:e}})}}),l=(t===C.Movie?o.genres:a.genres).find((function(e){var t=e.id;return n===t})),d=(null===l||void 0===l?void 0:l.data.map((function(e){var n=e.id,t=e.title,i=e.poster_path,c=e.backdrop_path,o=e.release_date;return{id:n,title:t,image:O(r?c:i,r?"backdrop":"poster"),caption:new Date(o).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}})))||[];return Object(R.jsx)(te,{list:d,ratio:r?"16/9":"2/3",loading:s.isValidating})},je=function(){var e=G(),n=e.movies,t=e.tv,r=e.dispatch,i=Object(u.b)([v("genre/tv/list"),v("genre/movie/list")],ue,{onSuccess:function(e){var n=Object(b.a)(e,2),t=n[0].genres,i=n[1].genres;r({type:"UPDATE_GENRES",payload:{tvGenres:t,movieGenres:i}})}}),c=t.genres.length?t.genres.map((function(e){return e.id})):[],o=n.genres.length?n.genres.filter((function(e){var n=e.id;return c.includes(n)})):[];return Object(R.jsx)(R.Fragment,{children:i.isValidating?Object(R.jsx)(te,{list:[],loading:!0,ratio:"2/3"}):o.map((function(e,n){return Object(R.jsx)(pe,{genre:e,index:n},e.id)}))})};!function(e){e.Popular="popular",e.Upcoming="upcoming"}(he||(he={}));var ge,ve=l.c.section(be||(be=Object(Y.a)(["\n  background-image: linear-gradient(\n    to bottom,\n    ",",\n    ","\n  );\n"])),(function(e){return e.theme.colors.surface2}),(function(e){return e.theme.colors.surface3})),Oe=function(){var e=Object(r.useState)(he.Popular),n=Object(b.a)(e,2),t=n[0],i=n[1],c=G(),o=c.dispatch,a=c.movies,s=a.popular,l=a.upcoming,d=Object(u.b)(v("movie/".concat(t)),{onSuccess:function(e){o({type:t===he.Popular?"UPDATE_POPULAR_MOVIES":"UPDATE_UPCOMING_MOVIES",payload:e})}}),h=(t===he.Popular?s:l).map((function(e){var n=e.id,t=e.title,r=e.backdrop_path,i=e.release_date;return{id:n,title:t,image:O(r,"backdrop"),caption:new Date(i).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}})),f=function(){return i(t===he.Popular?he.Upcoming:he.Popular)};return Object(R.jsxs)(ve,{id:"discover-movies",children:[Object(R.jsxs)(ie,{children:[Object(R.jsx)("h1",{children:"Discover Movies"}),Object(R.jsxs)(ce,{children:[Object(R.jsx)(J,{primary:t===he.Popular,disabled:t===he.Popular,onClick:f,children:"Popular"}),Object(R.jsx)(J,{primary:t===he.Upcoming,disabled:t===he.Upcoming,onClick:f,children:"Upcoming"})]})]}),Object(R.jsx)(te,{list:h,loading:d.isValidating||d.error,ratio:"16/9"})]})},xe=function(){var e=Object(r.useState)(C.Movie),n=Object(b.a)(e,2),t=n[0],i=n[1],c=G(),o=c.dispatch,a=c.movies,s=c.tv,l=Object(u.b)(v("trending/".concat(t,"/day")),{onSuccess:function(e){o({type:t===C.Movie?"UPDATE_TRENDING_MOVIES_BY_DAY":"UPDATE_TRENDING_TV_BY_DAY",payload:e})}}),d=(t===C.Movie?a.trending:s.trending).map((function(e){var n=e.id,t=e.title,r=e.poster_path,i=e.release_date;return{id:n,title:t,image:O(r,"poster"),caption:new Date(i).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}})),h=function(){return i(t===C.Movie?C.Tv:C.Movie)};return Object(R.jsxs)("section",{id:"trending",children:[Object(R.jsxs)(ie,{children:[Object(R.jsx)("h1",{children:"Trending"}),Object(R.jsxs)(ce,{children:[Object(R.jsx)(J,{primary:t===C.Movie,disabled:t===C.Movie,onClick:h,children:C.Movie}),Object(R.jsx)(J,{primary:t===C.Tv,disabled:t===C.Tv,onClick:h,children:C.Tv})]})]}),Object(R.jsx)(te,{list:d,ratio:"2/3",loading:l.isValidating||l.error})]})},ye=function(){var e,n=null===(e=window)||void 0===e?void 0:e.matchMedia("(prefers-color-scheme: dark)"),t=Object(r.useState)(null===n||void 0===n?void 0:n.matches),i=Object(b.a)(t,2),c=i[0],o=i[1];return Object(r.useEffect)((function(){var e=function(e){var n=e.matches;return o(n)};return null===n||void 0===n||n.addListener(e),function(){return n.removeEventListener("change",e)}}),[n]),c},we=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n="200",t="100%",r="50%",i={brand:"hsl(".concat(n," ").concat(t," ").concat(r),text1:"hsl(".concat(n," ").concat(t," 10%)"),text2:"hsl(".concat(n," 30% 30%)"),surface1:"hsl(".concat(n," 25% 90%)"),surface2:"hsl(".concat(n," 20% 99%)"),surface3:"hsl(".concat(n," 20% 92%)"),surface4:"hsl(".concat(n," 20% 85%)"),surfaceShadow:"hsl(".concat(n," 10% 20%)"),shadowStrength:"0.02"},c={brand:"hsl(".concat(n," calc(").concat(t," / 2) calc(").concat(r," / 1.5))"),text1:"hsl(".concat(n," 15% 85%)"),text2:"hsl(".concat(n," 5% 65%)"),surface1:"hsl(".concat(n," 10% 10%)"),surface2:"hsl(".concat(n," 10% 15%)"),surface3:"hsl(".concat(n," 5% 20%)"),surface4:"hsl(".concat(n," 5% 25%)"),surfaceShadow:"hsl(".concat(n," 50% 3%)"),shadowStrength:"0.8"};function o(e){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=1,r=1.25;e>1;)t=n?t*r:t/r,e--;return"calc(1rem * ".concat(t,")")}return{colors:e?c:i,size:{xxxs:o(5,!1),xxs:o(4,!1),xs:o(3,!1),sm:o(2,!1),md:o(1),lg:o(2),xl:o(3),xxl:o(4),xxxl:o(5)},mediaQueries:{below1400:"only screen and (max-width: 1400px)",below768:"only screen and (max-width: 768px)",below375:"only screen and (max-width: 375px)"}}},_e=(we(),Object(l.b)(ge||(ge=Object(Y.a)(["\n  html {\n    /* grow as per screen width */\n    font-size: calc(1px + 1vw);\n    line-height: calc(1.1rem + 0.5vw);\n    block-size: 100%;\n    background-color: ",";\n    color: ",";\n    font-family: 'Roboto Mono', monospace, system-ui, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    @media "," {\n      font-size: 16px;\n    }\n\n    @media "," {\n      font-size: 14px;\n    }\n\n    @media "," {\n      font-size: 12px;\n    }\n  }\n\n  body {\n    background-color: ",";\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"])),(function(e){return e.theme.colors.surface1}),(function(e){return e.theme.colors.text1}),(function(e){return e.theme.mediaQueries.below1400}),(function(e){return e.theme.mediaQueries.below768}),(function(e){return e.theme.mediaQueries.below375}),(function(e){return e.theme.colors.surface1})));var ke=function(){var e=ye(),n=we(e);return Object(R.jsxs)(l.a,{theme:n,children:[Object(R.jsx)(_e,{}),Object(R.jsx)(N,{children:Object(R.jsx)(a.SkeletonTheme,{color:n.colors.surface2,highlightColor:n.colors.surface1,children:Object(R.jsxs)(u.a,{value:de,children:[Object(R.jsx)(xe,{}),Object(R.jsx)(Oe,{}),Object(R.jsx)(je,{})]})})})]})},ze=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),c(e),o(e)}))};o.a.render(Object(R.jsx)(i.a.StrictMode,{children:Object(R.jsx)(ke,{})}),document.getElementById("root")),ze()}},[[36,1,2]]]);
//# sourceMappingURL=main.1abbf12e.chunk.js.map