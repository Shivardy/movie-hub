{"version":3,"sources":["AppContext.tsx","types/Trending.ts","hooks/createContext.tsx","Elements/MediaScroller.tsx","utils/environment.ts","utils/utils.ts","utils/api.ts","Components/Trending.tsx","hooks/useAsync.ts","hooks/useDarkMode.tsx","styles/theme.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["initialState","trending","movie","tv","appReducer","state","action","type","payload","MediaType","OriginalLanguage","ctx","React","undefined","c","Error","Provider","createContext","appContext","AppProvider","AppContextProvider","children","useReducer","dispatch","value","MediaScrollerUL","styled","ul","props","theme","size","xl","lg","MediaItem","li","width","Figure","figure","Image","img","height","colors","surfaceShadow","Figcaption","figcaption","md","MediaScroller","list","loading","split","data","Array","fill","map","item","index","image","alt","title","src","id","environment","apiKey","process","baseURL","imageBaseURL","getUrl","path","fetchTrending","a","movieUrl","tvUrl","Promise","all","url","fetch","response","json","trendingMovies","trendingShows","results","backdrop_path","poster_path","vote_average","name","H1","h1","Header","header","xs","ButtonContainer","div","text1","Button","button","active","surface1","xxs","Trending","useState","Movie","selectedMedia","setSelectedMedia","fn","setState","callback","useCallback","console","error","useAsync","trendingStatus","loadTrending","useEffect","mediaScrollerList","onClick","Tv","useDarkMode","darkModeQuery","window","matchMedia","matches","isDarkMode","setIsDarkMode","darkModeHandler","addListener","removeEventListener","getTheme","hue","saturation","lightness","light","brand","text2","surface2","surface3","surface4","shadowStrength","dark","sizeStepUp","n","up","result","typeScale","xxxs","sm","xxl","xxxl","mediaQueries","below768","below375","GlobalStyles","createGlobalStyle","App","color","highlightColor","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1841e1d.chunk.js","sourcesContent":["import { useReducer } from 'react';\r\nimport createContext from './hooks/createContext';\r\nimport { Trending } from './types/Trending';\r\n\r\ntype State = {\r\n  trending: Trending;\r\n};\r\nconst initialState: State = {\r\n  trending: {\r\n    movie: [],\r\n    tv: [],\r\n  },\r\n};\r\n\r\ntype ActionType = {\r\n  type: 'UPDATE_TRENDING_BY_DAY';\r\n  payload: Trending;\r\n};\r\n\r\nexport type ActionTypes = ActionType['type'];\r\n\r\nfunction appReducer(state: State, action: ActionType): State {\r\n  switch (action.type) {\r\n    case 'UPDATE_TRENDING_BY_DAY':\r\n      return {\r\n        ...state,\r\n        trending: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ninterface AppContext extends State {\r\n  dispatch: React.Dispatch<ActionType>;\r\n}\r\n\r\nconst [appContext, AppProvider] = createContext<AppContext>();\r\n\r\nexport const AppContextProvider = ({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) => {\r\n  const [state, dispatch] = useReducer(appReducer, initialState);\r\n  return <AppProvider value={{ ...state, dispatch }}>{children}</AppProvider>;\r\n};\r\n\r\nexport { appContext };\r\n","export interface TrendingMovies {\r\n  page: number;\r\n  results: TrendingMoviesResult[];\r\n  total_pages: number;\r\n  total_results: number;\r\n}\r\n\r\ninterface TrendingMoviesResult {\r\n  overview: string;\r\n  release_date: string;\r\n  adult: boolean;\r\n  backdrop_path: string;\r\n  vote_count: number;\r\n  genre_ids: number[];\r\n  original_title: string;\r\n  original_language: OriginalLanguage;\r\n  id: number;\r\n  poster_path: string;\r\n  title: string;\r\n  video: boolean;\r\n  vote_average: number;\r\n  popularity: number;\r\n  media_type: MediaType;\r\n}\r\n\r\nexport enum MediaType {\r\n  Movie = 'movie',\r\n  Tv = 'tv',\r\n}\r\n\r\nexport enum OriginalLanguage {\r\n  En = 'en',\r\n  Nl = 'nl',\r\n}\r\n\r\nexport interface TrendingTv {\r\n  page: number;\r\n  results: TrendingTvResult[];\r\n  total_pages: number;\r\n  total_results: number;\r\n}\r\n\r\ninterface TrendingTvResult {\r\n  first_air_date: string;\r\n  name: string;\r\n  original_name: string;\r\n  origin_country: string[];\r\n  overview: string;\r\n  vote_count: number;\r\n  vote_average: number;\r\n  id: number;\r\n  backdrop_path: string;\r\n  poster_path: string;\r\n  genre_ids: number[];\r\n  original_language: string;\r\n  popularity: number;\r\n  media_type: MediaType;\r\n}\r\ntype Media = {\r\n  title: string;\r\n  id: number;\r\n  backdrop_path: string;\r\n  poster_path: string;\r\n  vote_average: number;\r\n};\r\nexport type Trending = {\r\n  movie: Media[];\r\n  tv: Media[];\r\n};\r\n","import * as React from 'react';\r\n\r\nexport default function createContext<A extends {} | null>() {\r\n  const ctx = React.createContext<A | undefined>(undefined);\r\n\r\n  const useContext = () => {\r\n    const c = React.useContext(ctx);\r\n    if (c === undefined)\r\n      throw new Error('useContext must be inside a Provider with a value');\r\n    return c;\r\n  };\r\n  return [useContext, ctx.Provider] as const;\r\n}\r\n","import Skeleton from 'react-loading-skeleton';\r\nimport styled from 'styled-components';\r\n\r\nconst MediaScrollerUL = styled.ul`\r\n  display: grid;\r\n  grid-auto-flow: column;\r\n  gap: ${(props) => props.theme.size.xl};\r\n\r\n  padding-inline: ${(props) => props.theme.size.lg};\r\n  padding-block: ${(props) => props.theme.size.lg};\r\n\r\n  overflow-x: auto;\r\n  overscroll-behavior-inline: contain;\r\n  scroll-snap-type: inline mandatory;\r\n  scroll-padding-left: ${(props) => props.theme.size.xl};\r\n  scroll-padding-right: ${(props) => props.theme.size.xl};\r\n  scroll-padding-inline: ${(props) => props.theme.size.xl};\r\n\r\n  @media (prefers-reduced-motion: no-preference) {\r\n    & {\r\n      scroll-behavior: smooth;\r\n    }\r\n  }\r\n`;\r\n\r\ntype MediaItemProps = {\r\n  width: string;\r\n  height: string;\r\n};\r\n\r\nconst MediaItem = styled.li<MediaItemProps>`\r\n  display: inline-block;\r\n  inline-size: ${(props) => props.width};\r\n  block-size: min-content;\r\n\r\n  &:last-of-type figure {\r\n    position: relative;\r\n\r\n    &::after {\r\n      content: '';\r\n      position: absolute;\r\n\r\n      inline-size: ${(props) => props.theme.size.lg};\r\n      block-size: 100%;\r\n\r\n      inset-block-start: 0;\r\n      inset-inline-end: calc(${(props) => props.theme.size.lg} * -1);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Figure = styled.figure`\r\n  scroll-snap-align: start;\r\n\r\n  display: grid;\r\n  gap: calc(${(props) => props.theme.size.lg} / 2);\r\n  margin: 0;\r\n\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  outline-offset: 12px;\r\n\r\n  &:focus {\r\n    outline-offset: 7px;\r\n  }\r\n`;\r\n\r\nconst Image = styled.img<MediaItemProps>`\r\n  inline-size: ${(props) => props.width};\r\n  block-size: ${(props) => props.height};\r\n  object-fit: cover;\r\n\r\n  box-shadow: 0rem 2rem 5rem ${(props) => props.theme.colors.surfaceShadow};\r\n\r\n  border-radius: 1ex;\r\n  border: none;\r\n  overflow: hidden;\r\n\r\n  background-image: linear-gradient(to bottom, hsl(0 0% 40%), hsl(0 0% 20%));\r\n`;\r\n\r\nconst Figcaption = styled.figcaption`\r\n  line-height: ${(props) => props.theme.size.md};\r\n  font-size: ${(props) => props.theme.size.md};\r\n`;\r\n\r\ntype MediaScrollerProps = {\r\n  list: {\r\n    id: number;\r\n    image: string;\r\n    title: string;\r\n  }[];\r\n  size?: `${number}em:${number}em`;\r\n  loading?: boolean;\r\n};\r\n\r\nconst MediaScroller = ({\r\n  list,\r\n  size = '10em:10em',\r\n  loading = false,\r\n}: MediaScrollerProps) => {\r\n  const [width, height] = size.split(':');\r\n  const data = loading ? Array(10).fill({}) : list;\r\n  return (\r\n    <MediaScrollerUL>\r\n      {data.map((item, index) => (\r\n        <MediaItem key={item.id || index} width={width} height={height}>\r\n          <Figure>\r\n            <picture>\r\n              {item.image ? (\r\n                <Image\r\n                  alt={item.title}\r\n                  loading=\"lazy\"\r\n                  src={item.image}\r\n                  width={width}\r\n                  height={height}\r\n                />\r\n              ) : (\r\n                <Skeleton width={width} height={height} />\r\n              )}\r\n            </picture>\r\n            <Figcaption>\r\n              {item.title || (\r\n                <>\r\n                  <Skeleton />\r\n                  <Skeleton width=\"65%\" />\r\n                </>\r\n              )}\r\n            </Figcaption>\r\n          </Figure>\r\n        </MediaItem>\r\n      ))}\r\n    </MediaScrollerUL>\r\n  );\r\n};\r\n\r\nexport default MediaScroller;\r\n","const environment = {\r\n  apiKey: process.env.REACT_APP_MOVIEDB_KEY,\r\n  baseURL: process.env.REACT_APP_BASEURL,\r\n  imageBaseURL: process.env.REACT_APP_IMG_BASEURL,\r\n};\r\nexport default environment;\r\n","import { ImageType, Size } from '../types/Image';\r\nimport environment from './environment';\r\n\r\nconst { apiKey, baseURL, imageBaseURL } = environment;\r\n\r\nexport const getUrl = (path: string): string =>\r\n  `${baseURL}${path}?api_key=${apiKey}`;\r\n\r\nexport function getImageURL<T extends ImageType>(\r\n  path: string,\r\n  type: T,\r\n  size: Size<T>\r\n) {\r\n  return `${imageBaseURL}${size}${path}`;\r\n}\r\n","import { Trending, TrendingMovies, TrendingTv } from '../types/Trending';\r\nimport { getUrl } from './utils';\r\n\r\nexport const fetchTrending = async (): Promise<Trending> => {\r\n  const movieUrl = getUrl('trending/movie/day');\r\n  const tvUrl = getUrl('trending/tv/day');\r\n\r\n  const [trendingMovies, trendingShows] = await Promise.all(\r\n    [movieUrl, tvUrl].map(async (url) => {\r\n      const response = await fetch(url);\r\n      return response.json();\r\n    })\r\n  );\r\n\r\n  const movie = (trendingMovies as TrendingMovies).results.map(\r\n    ({ title, id, backdrop_path, poster_path, vote_average }) => ({\r\n      title,\r\n      id,\r\n      backdrop_path,\r\n      poster_path,\r\n      vote_average,\r\n    })\r\n  );\r\n\r\n  const tv = (trendingShows as TrendingTv).results.map(\r\n    ({ name, id, backdrop_path, poster_path, vote_average }) => ({\r\n      title: name,\r\n      id,\r\n      backdrop_path,\r\n      poster_path,\r\n      vote_average,\r\n    })\r\n  );\r\n  return { movie, tv };\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { appContext } from '../AppContext';\r\nimport MediaScroller from '../Elements/MediaScroller';\r\nimport useAsync from '../hooks/useAsync';\r\nimport { MediaType } from '../types/Trending';\r\nimport { fetchTrending } from '../utils/api';\r\nimport { getImageURL } from '../utils/utils';\r\n\r\nconst H1 = styled.h1`\r\n  font-size: ${(props) => props.theme.size.xl};\r\n`;\r\n\r\nconst Header = styled.header`\r\n  display: grid;\r\n  grid-auto-flow: column;\r\n  align-items: center;\r\n  width: min-content;\r\n  padding-inline: ${(props) => props.theme.size.lg};\r\n  padding-block: ${(props) => props.theme.size.xs};\r\n  grid-gap: ${(props) => props.theme.size.xs};\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: column;\r\n  grid-gap: ${(props) => props.theme.size.xs};\r\n  width: min-content;\r\n  border-radius: ${(props) => props.theme.size.md};\r\n  border: 1px solid ${({ theme }) => theme.colors.text1};\r\n`;\r\n\r\nconst Button = styled.button<{ active?: boolean }>`\r\n  width: min-content;\r\n  height: min-content;\r\n  color: ${({ theme, active }) =>\r\n    active ? theme.colors.surface1 : theme.colors.text1};\r\n  border-radius: ${(props) => props.theme.size.md};\r\n  background-color: ${({ theme: { colors }, active }) =>\r\n    active ? colors.text1 : colors.surface1};\r\n  font-weight: ${(props) => (props.active ? 600 : 400)};\r\n  cursor: pointer;\r\n  border: none;\r\n\r\n  padding-block: ${(props) => props.theme.size.xxs};\r\n  padding-inline: ${(props) => props.theme.size.xl};\r\n`;\r\n\r\nconst Trending = () => {\r\n  const [selectedMedia, setSelectedMedia] = useState<MediaType>(\r\n    MediaType.Movie\r\n  );\r\n\r\n  const [trendingStatus, loadTrending] = useAsync(\r\n    fetchTrending,\r\n    'UPDATE_TRENDING_BY_DAY'\r\n  );\r\n\r\n  const {\r\n    trending: { movie, tv },\r\n  } = appContext();\r\n\r\n  useEffect(() => {\r\n    loadTrending();\r\n  }, [loadTrending]);\r\n\r\n  const data = selectedMedia === 'movie' ? movie : tv;\r\n\r\n  const mediaScrollerList =\r\n    data.map(({ id, title, poster_path }) => ({\r\n      id,\r\n      title,\r\n      image: poster_path && getImageURL(poster_path, 'poster', 'w185'),\r\n    })) || [];\r\n\r\n  return (\r\n    <section>\r\n      <Header>\r\n        <H1>Trending</H1>\r\n        <ButtonContainer>\r\n          <Button\r\n            active={selectedMedia === MediaType.Movie}\r\n            onClick={() => setSelectedMedia(MediaType.Movie)}\r\n          >\r\n            Movies\r\n          </Button>\r\n          <Button\r\n            active={selectedMedia === MediaType.Tv}\r\n            onClick={() => setSelectedMedia(MediaType.Tv)}\r\n          >\r\n            TV\r\n          </Button>\r\n        </ButtonContainer>\r\n      </Header>\r\n\r\n      <MediaScroller\r\n        list={mediaScrollerList}\r\n        size=\"10em:15em\"\r\n        loading={trendingStatus.state === 'LOADING'}\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Trending;\r\n","import { useCallback, useState } from 'react';\r\nimport { ActionTypes, appContext } from '../AppContext';\r\n\r\ntype AsyncState<R> =\r\n  | { state: 'LOADING' }\r\n  | { state: 'SUCCESS'; data: R }\r\n  | { state: 'ERROR'; error: string };\r\n\r\ntype Unwrap<T> = T extends Promise<infer U> ? U : T;\r\n\r\nexport default function useAsync<T extends (...args: any[]) => Promise<any>>(\r\n  fn: T,\r\n  type?: ActionTypes\r\n): [AsyncState<Unwrap<ReturnType<T>>>, (...args: Parameters<T>) => void] {\r\n  const [state, setState] = useState<AsyncState<Unwrap<ReturnType<T>>>>({\r\n    state: 'LOADING',\r\n  });\r\n  const { dispatch } = appContext();\r\n\r\n  const callback = useCallback(\r\n    async (...args: Parameters<T>) => {\r\n      try {\r\n        const data = await fn(...args);\r\n        setState({ state: 'SUCCESS', data });\r\n        if (type) {\r\n          dispatch({ type, payload: data });\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n        setState({ state: 'ERROR', error: 'Network Error' });\r\n      }\r\n    },\r\n    [dispatch, fn, type]\r\n  );\r\n\r\n  return [state, callback];\r\n}\r\n","import { useEffect, useState } from 'react';\r\n\r\nconst useDarkMode = () => {\r\n  const darkModeQuery = window?.matchMedia('(prefers-color-scheme: dark)');\r\n  const [isDarkMode, setIsDarkMode] = useState(darkModeQuery?.matches);\r\n  useEffect(() => {\r\n    const darkModeHandler = ({ matches }: MediaQueryListEvent): void =>\r\n      setIsDarkMode(matches);\r\n    darkModeQuery?.addListener(darkModeHandler);\r\n    return () => darkModeQuery.removeEventListener('change', darkModeHandler);\r\n  }, [darkModeQuery]);\r\n\r\n  return isDarkMode;\r\n};\r\n\r\nexport default useDarkMode;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const getTheme = (isDarkMode = false) => {\r\n  /* brand foundation */\r\n  const hue = '200';\r\n  const saturation = '100%';\r\n  const lightness = '50%';\r\n\r\n  /* light */\r\n  const light = {\r\n    brand: `hsl(${hue} ${saturation} ${lightness}`,\r\n    text1: `hsl(${hue} ${saturation} 10%)`,\r\n    text2: `hsl(${hue} 30% 30%)`,\r\n    surface1: `hsl(${hue} 25% 90%)`,\r\n    surface2: `hsl(${hue} 20% 99%)`,\r\n    surface3: `hsl(${hue} 20% 92%)`,\r\n    surface4: `hsl(${hue} 20% 85%)`,\r\n    surfaceShadow: `hsl(${hue} 10% 20%)`,\r\n    shadowStrength: '0.02',\r\n  };\r\n\r\n  const dark = {\r\n    brand: `hsl(${hue} calc(${saturation} / 2) calc(${lightness} / 1.5))`,\r\n    text1: `hsl(${hue} 15% 85%)`,\r\n    text2: `hsl(${hue} 5% 65%)`,\r\n    surface1: `hsl(${hue} 10% 10%)`,\r\n    surface2: `hsl(${hue} 10% 15%)`,\r\n    surface3: `hsl(${hue} 5% 20%)`,\r\n    surface4: `hsl(${hue} 5% 25%)`,\r\n    surfaceShadow: `hsl(${hue} 50% 3%)`,\r\n    shadowStrength: '0.8',\r\n  };\r\n\r\n  function sizeStepUp(n: number, up = true): string {\r\n    let result = 1;\r\n    const typeScale = 1.25;\r\n    while (n > 1) {\r\n      result = up ? result * typeScale : result / typeScale;\r\n      n--;\r\n    }\r\n    return `calc(1em * ${result})`;\r\n  }\r\n\r\n  return {\r\n    colors: isDarkMode ? dark : light,\r\n    size: {\r\n      xxxs: sizeStepUp(5, false),\r\n      xxs: sizeStepUp(4, false),\r\n      xs: sizeStepUp(3, false),\r\n      sm: sizeStepUp(2, false),\r\n      md: sizeStepUp(1),\r\n      lg: sizeStepUp(2),\r\n      xl: sizeStepUp(3),\r\n      xxl: sizeStepUp(4),\r\n      xxxl: sizeStepUp(5),\r\n    },\r\n    mediaQueries: {\r\n      below768: 'only screen and (max-width: 768px)',\r\n      below375: 'only screen and (max-width: 375px)',\r\n    },\r\n  };\r\n};\r\n\r\nconst theme = getTheme();\r\ntype ThemeType = typeof theme;\r\ndeclare module 'styled-components' {\r\n  export interface DefaultTheme extends ThemeType {}\r\n}\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n  html {\r\n    font-size: 16px;\r\n    block-size: 100%;\r\n    background-color: ${({ theme }) => theme.colors.surface1};\r\n    color: ${({ theme }) => theme.colors.text1};\r\n    font-family: 'Roboto Mono', monospace, system-ui, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n\r\n    @media ${({ theme }) => theme.mediaQueries.below768} {\r\n      font-size: 14px;\r\n    }\r\n\r\n    @media ${({ theme }) => theme.mediaQueries.below375} {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n  }\r\n`;\r\n","import React from 'react';\nimport { SkeletonTheme } from 'react-loading-skeleton';\nimport { ThemeProvider } from 'styled-components';\nimport { AppContextProvider } from './AppContext';\nimport Trending from './Components/Trending';\nimport useDarkMode from './hooks/useDarkMode';\nimport { getTheme, GlobalStyles } from './styles/theme';\n\nfunction App() {\n  const isDarkMode = useDarkMode();\n  const theme = getTheme(isDarkMode);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalStyles />\n      <AppContextProvider>\n        <SkeletonTheme\n          color={theme.colors.surface2}\n          highlightColor={theme.colors.surface1}\n        >\n          <Trending />\n        </SkeletonTheme>\n      </AppContextProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}