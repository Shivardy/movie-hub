{"version":3,"sources":["hooks/useLocalStorage.tsx","hooks/useDarkMode.tsx","services/appReducer.ts","utils/constants.ts","AppContext.tsx","hooks/createContext.tsx","components/Button.tsx","hooks/useClickOutside.tsx","icons/ArrowDown.tsx","icons/ArrowUp.tsx","utils/environment.ts","utils/utils.ts","components/ButtonGroup.tsx","icons/ArrowLeft.tsx","icons/ArrowRight.tsx","components/MediaListItem.tsx","components/MediaScroller.tsx","components/StyledElements.tsx","services/api.ts","hooks/data/useContentByGenre.tsx","hooks/data/useGenres.tsx","hooks/useInView.tsx","sections/GenreSection.tsx","sections/ContentByGenres.tsx","hooks/data/useDiscoverMovies.tsx","sections/DiscoverMovies.tsx","hooks/data/useTrending.tsx","sections/Trending.tsx","sections/Home.tsx","components/Modal.tsx","components/ReadMore.tsx","icons/Close.tsx","components/YoutubeTrailer.tsx","hooks/data/useMovie.tsx","icons/Youtube.tsx","sections/Movie.tsx","hooks/useDebounce.tsx","icons/SearchIcon.tsx","components/DropDown.tsx","hooks/data/useDiscoverContent.tsx","hooks/data/useLanguage.tsx","sections/Movies.tsx","icons/Moon.tsx","icons/MovieDB.tsx","icons/Sun.tsx","icons/User.tsx","sections/NavBar.tsx","hooks/data/usePerson.tsx","icons/Facebook.tsx","icons/Instagram.tsx","icons/Twitter.tsx","sections/Person.tsx","hooks/data/useSearch.tsx","icons/Camera.tsx","icons/MovieIcon.tsx","icons/PersonIcon.tsx","icons/TrendingIcon.tsx","sections/Search.tsx","hooks/data/useTv.tsx","sections/Tv.tsx","sections/TvShows.tsx","styles/theme.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","error","console","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useDarkMode","darkModeQuery","matchMedia","isDarkModeFromOs","matches","isDarkMode","setIsDarkMode","useEffect","darkModeHandler","addListener","removeEventListener","toggleDarkMode","prev","appReducer","state","action","type","displaySearch","payload","initialState","queryKeys","ImageSize","poster","backdrop","profile","ctx","React","undefined","c","Error","Provider","createContext","appContext","AppProvider","AppContextProvider","children","useReducer","dispatch","StyledButton","styled","button","theme","primary","colors","surface1","text1","props","size","xs","xxxs","md","Button","forwardRef","ref","onClick","disabled","rest","useClickOutside","callback","listener","event","el","current","contains","target","document","addEventListener","ArrowDown","xmlns","className","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","ArrowUp","environment","apiKey","process","baseURL","imageBaseURL","getUrl","path","queryString","getImageSrc","img","src","srcset","paths","filter","map","substring","join","getBackgroundImageSrc","getImageHeightAndWidth","ratio","split","i","widthRatio","heightRatio","height","width","getReleaseDate","release_date","Date","toLocaleDateString","year","month","day","calculate_age","dob","diff_ms","now","getTime","age_dt","Math","abs","getUTCFullYear","minuteToTime","duration","hours","rhours","floor","minutes","rminutes","round","updateCacheData","data","oldData","allData","uniqueIds","Array","from","Set","a","id","result","forEach","movie","find","m","push","debounce","fn","timeout","time","args","clearTimeout","setTimeout","isSelected","text2","surface4","IconButton","isHidden","ButtonWrapper","div","lg","DropDown","surface3","DropDownContainer","ButtonGroup","items","containerRef","useRef","iconRef","dropDownRef","buttonRefs","hiddenItems","setHiddenItems","open","setOpen","handleDropDown","onWindowResize","useCallback","container","containerWidth","offsetWidth","occupiedWidth","lastVisible","element","index","elem","style","getComputedStyle","parseInt","marginLeft","marginRight","getWidthAndHorizontalMargins","setAttribute","left","offsetLeft","clientWidth","debouncedFunc","label","length","e","ArrowLeft","ArrowRight","Figure","figure","Image","inlineSize","blockSize","aspectRatio","surface2","Figcaption","figcaption","sm","MediaListItem","mediaType","to","image","alt","title","loading","srcSet","caption","Div","Arrow","span","bsize","MediaScrollerUL","ul","xl","MediaItem","li","MediaScroller","list","mediaList","createElement","isHiddenLeftArrow","setIsHiddenLeftArrow","scrollWidth","isHiddenRightArrow","setIsHiddenRightArrow","scrollToRight","scrollLeft","scrollTo","top","behavior","scrollToLeft","handleScroll","fill","onScroll","Header","header","ButtonContainer","MediaScreenContainer","ImageContainer","xxl","getColorWithOpacity","mediaQueries","below768","showPointer","MediaDescription","SectionWithBGColor","section","MediaGridSection","gridItemSize","TrailerButton","fetcher","url","fetch","response","json","useContentByGenre","genreId","enabled","useQuery","select","results","onSuccess","queryClient","setQueryData","useGenres","urls","Promise","all","multiFetcher","tv","tvGenres","genres","movieGenres","useInView","triggerOnce","threshold","root","rootMargin","inView","setInView","node","IntersectionObserver","observer","entries","entry","isIntersecting","disconnect","observe","Section","isBackdrop","GenreSection","genre","selectedMedia","setSelectedMedia","isLoading","mediaScrollerList","backdrop_path","poster_path","name","first_air_date","ContentByGenres","tvGenresId","commonGenres","includes","selectedButtonId","setSelectedButtonId","buttonListItems","useMemo","buttonId","currentTarget","dataset","genreData","genreDataIsLoading","useDiscoverMovies","DiscoverMovies","movieType","setMovieType","handleButton","useTrending","Trending","Home","Backdrop","ModalDiv","xxxl","Modal","onClose","escFunction","click","stopPropagation","Span","ReadMore","text","maxCharCount","isTruncated","setIsTruncated","resultString","slice","padEnd","Close","Iframe","iframe","IframeHeader","YoutubeTrailer","youtubeKey","frameBorder","allowFullScreen","useMovie","initialData","queryData","getQueryData","staleTime","credits","cast","Svg","svg","Youtube","role","Movie","movieId","useParams","isFetching","imageSrc","bgImageSrc","actors","recommendations","actorsList","profile_path","character","recommendationsList","recommendationGridItemWidth","isModalOpen","setIsModalOpen","toggleIsModalOpen","trailer","videos","toString","getFullYear","runtime","tagline","status","overview","useDebounce","delay","debouncedValue","setDebouncedValue","timer","SearchIcon","SearchBarContainer","SearchResults","DropDownTrigger","searchValue","setSearchValue","debouceSearchValue","toLocaleLowerCase","options","Infinity","dropDownOptions","setDropDownOptions","showDropDown","setShowDropDown","selectedOption","setSelectedOption","searchResults","match","autoFocus","onChange","onSelect","useDiscoverContent","language","useInfiniteQuery","pageParam","genreQuery","date","String","getDate","padStart","mon","getMonth","today","todayPlusYear","todayMinusYear","timeQuery","getNextPageParam","lastPageData","total_pages","page","useLanguage","brand","Filters","MoviePageData","memo","Movies","languages","selectedLanguage","setSelectedLanguage","selectedGenre","setSelectedGenre","setStatus","languageOptions","english_name","genreOptions","movies","hasNextPage","fetchNextPage","pages","iso_639_1","visibility","Moon","MovieDB","Sun","User","Nav","nav","xxs","NavBar","log","usePerson","Facebook","Instagram","Twitter","Person","personId","combined_credits","media_type","tvs","birthday","place_of_birth","external_ids","twitter_id","href","rel","instagram_id","facebook_id","biography","useSearch","query","Camera","MovieIcon","PersonIcon","TrendingIcon","SearchResultContainer","SearchResultItem","Search","searchItems","closeSearch","placeholder","navigate","renderSearchItemImage","useTv","Tv","tvId","TVPageData","TvShows","tvShows","getTheme","hue","saturation","lightness","light","dark","sizeStepUp","n","up","typeScale","below1400","below375","color","opacity","Number","GlobalStyles","createGlobalStyle","QueryClient","defaultOptions","queries","refetchOnWindowFocus","App","highlightColor","client","basepath","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6ca25365.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nfunction useLocalStorage<T>(key: string, initialValue: T) {\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue] as const;\n}\n\nexport default useLocalStorage;\n","import { useEffect } from \"react\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nconst useDarkMode = (): {\r\n  isDarkMode: boolean;\r\n  toggleDarkMode: () => void;\r\n} => {\r\n  const darkModeQuery = window?.matchMedia(\"(prefers-color-scheme: dark)\");\r\n  const isDarkModeFromOs = darkModeQuery?.matches;\r\n  const [isDarkMode, setIsDarkMode] = useLocalStorage(\r\n    \"darkMode\",\r\n    isDarkModeFromOs\r\n  );\r\n\r\n  useEffect(() => {\r\n    const darkModeHandler = ({ matches }: MediaQueryListEvent): void =>\r\n      setIsDarkMode(matches);\r\n    darkModeQuery?.addListener(darkModeHandler);\r\n    return () => darkModeQuery.removeEventListener(\"change\", darkModeHandler);\r\n  }, [darkModeQuery, setIsDarkMode]);\r\n\r\n  return {\r\n    isDarkMode,\r\n    toggleDarkMode: () => setIsDarkMode((prev) => !prev),\r\n  } as const;\r\n};\r\n\r\nexport default useDarkMode;\r\n","import { Actions } from \"./../types/common\";\r\nimport { State } from \"../types/common\";\r\n\r\nexport default function appReducer(state: State, action: Actions): State {\r\n  if (action.type === \"DISPLAY_SEARCH\") {\r\n    return { ...state, displaySearch: action.payload };\r\n  }\r\n  return state;\r\n}\r\n","import { State } from \"../types/common\";\r\n\r\nexport const initialState: State = {\r\n  displaySearch: false,\r\n};\r\n\r\nexport const queryKeys = {\r\n  movies: \"all-movies\",\r\n  tvs: \"all-tvs\",\r\n  persons: \"all-persons\",\r\n};\r\n\r\nexport const ImageSize = {\r\n  poster: [\"w92\", \"w154\", \"w185\", \"w342\", \"w500\", \"w780\", \"original\"],\r\n  backdrop: [\"w300\", \"w780\", \"w1280\", \"original\"],\r\n  profile: [\"w45\", \"w185\", \"original\"],\r\n};\r\n","import { useReducer } from \"react\";\r\nimport createContext from \"./hooks/createContext\";\r\nimport useDarkMode from \"./hooks/useDarkMode\";\r\nimport appReducer from \"./services/appReducer\";\r\nimport { AppContext } from \"./types/common\";\r\nimport { initialState } from \"./utils/constants\";\r\n\r\nconst [appContext, AppProvider] = createContext<AppContext>();\r\n\r\nexport const AppContextProvider = ({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) => {\r\n  const [state, dispatch] = useReducer(appReducer, initialState);\r\n  const { isDarkMode, toggleDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <AppProvider value={{ ...state, dispatch, isDarkMode, toggleDarkMode }}>\r\n      {children}\r\n    </AppProvider>\r\n  );\r\n};\r\n\r\nexport { appContext };\r\n","import * as React from 'react';\r\n\r\nexport default function createContext<A extends {} | null>() {\r\n  const ctx = React.createContext<A | undefined>(undefined);\r\n\r\n  const useContext = () => {\r\n    const c = React.useContext(ctx);\r\n    if (c === undefined)\r\n      throw new Error('useContext must be inside a Provider with a value');\r\n    return c;\r\n  };\r\n  return [useContext, ctx.Provider] as const;\r\n}\r\n","import React from \"react\";\nimport styled from \"styled-components\";\n\ntype StyledButtonProps = { primary: boolean };\nconst StyledButton = styled.button<StyledButtonProps>`\n  min-width: max-content;\n  height: min-content;\n  color: ${({ theme, primary }) => {\n    if (primary) {\n      return theme.colors.surface1;\n    }\n    return theme.colors.text1;\n  }};\n\n  border-radius: ${(props) => props.theme.size.xs};\n  border: 1px solid ${({ theme }) => theme.colors.text1};\n  font-weight: 600;\n\n  background-color: ${({ theme, primary }) => {\n    if (primary) {\n      return theme.colors.text1;\n    }\n    return \"inherit\";\n  }};\n\n  text-transform: capitalize;\n  cursor: pointer;\n\n  padding-block: ${(props) => props.theme.size.xxxs};\n  padding-inline: ${(props) => props.theme.size.md};\n`;\n\ntype ButtonOwnProps = {\n  onClick: React.MouseEventHandler<HTMLButtonElement>;\n  children: React.ReactNode;\n  primary?: boolean;\n};\n\ntype ButtonProps = ButtonOwnProps &\n  React.ButtonHTMLAttributes<HTMLButtonElement>;\n\nconst Button = React.forwardRef(\n  (\n    {\n      primary = true,\n      onClick,\n      children,\n      disabled = false,\n      ...rest\n    }: ButtonProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    return (\n      <StyledButton\n        ref={ref}\n        primary={primary}\n        onClick={onClick}\n        disabled={disabled}\n        {...rest}\n      >\n        {children}\n      </StyledButton>\n    );\n  }\n);\n\nexport default Button;\n","import { RefObject, useEffect } from 'react';\r\n\r\ntype AnyEvent = MouseEvent | TouchEvent;\r\nfunction useClickOutside<T extends HTMLElement = HTMLElement>(\r\n  ref: RefObject<T>,\r\n  callback: (event: AnyEvent) => void\r\n) {\r\n  useEffect(() => {\r\n    const listener = (event: AnyEvent) => {\r\n      const el = ref?.current;\r\n\r\n      // Do nothing if clicking ref's element or descendent elements\r\n      if (!el || el.contains(event.target as Node)) {\r\n        return;\r\n      }\r\n\r\n      callback(event);\r\n    };\r\n\r\n    document.addEventListener(`mousedown`, listener);\r\n    document.addEventListener(`touchstart`, listener);\r\n\r\n    return () => {\r\n      document.removeEventListener(`mousedown`, listener);\r\n      document.removeEventListener(`touchstart`, listener);\r\n    };\r\n\r\n    // Reload only if ref or handler changes\r\n  }, [ref, callback]);\r\n}\r\n\r\nexport default useClickOutside;\r\n","const ArrowDown = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={5}\r\n      d=\"M19 9l-7 7-7-7\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default ArrowDown;\r\n","const ArrowUp = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={5}\r\n      d=\"M5 15l7-7 7 7\"\r\n    />\r\n  </svg>\r\n);\r\nexport default ArrowUp;\r\n","const environment = {\r\n  apiKey: process.env.REACT_APP_MOVIEDB_KEY,\r\n  baseURL: process.env.REACT_APP_BASEURL,\r\n  imageBaseURL: process.env.REACT_APP_IMG_BASEURL,\r\n};\r\nexport default environment;\r\n","import { ImageRatio, ImageType } from \"../types/common\";\r\nimport { ImageSize } from \"./constants\";\r\nimport environment from \"./environment\";\r\n\r\nconst { apiKey, baseURL, imageBaseURL } = environment;\r\n\r\nexport const getUrl = (path: string, queryString = \"\"): string =>\r\n  `${baseURL}${path}?api_key=${apiKey}${queryString}`;\r\n\r\nexport function getImageSrc(path: string | undefined | null, type: ImageType) {\r\n  const img = { src: \"\", srcset: \"\" };\r\n  if (path) {\r\n    img.src = `${imageBaseURL}original${path}`;\r\n    const sizes = ImageSize[type].filter((size) => size !== \"original\");\r\n    const paths = sizes.map(\r\n      (size) => `${imageBaseURL}${size}${path} ${size.substring(1)}w`\r\n    );\r\n    img.srcset = paths.join(\", \");\r\n  }\r\n  return img;\r\n}\r\n\r\nexport const getBackgroundImageSrc = (path: string) =>\r\n  `${imageBaseURL}w1920_and_h800_face${path}`;\r\n\r\nexport const getImageHeightAndWidth = (\r\n  ratio: ImageRatio = \"1/1\",\r\n  size: number = 10\r\n) => {\r\n  const [widthRatio, heightRatio] = ratio.split(\"/\").map((i) => +i);\r\n\r\n  const height =\r\n    widthRatio > heightRatio\r\n      ? `${size}rem`\r\n      : `${(size * heightRatio) / widthRatio}rem`;\r\n\r\n  const width =\r\n    widthRatio > heightRatio\r\n      ? `${(size * widthRatio) / heightRatio}rem`\r\n      : `${size}rem`;\r\n\r\n  return [height, width];\r\n};\r\n\r\nexport const getReleaseDate = (release_date: string) =>\r\n  new Date(release_date).toLocaleDateString(\"en-us\", {\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  });\r\n\r\nexport function calculate_age(dob: string) {\r\n  var diff_ms = Date.now() - new Date(dob).getTime();\r\n  var age_dt = new Date(diff_ms);\r\n\r\n  return Math.abs(age_dt.getUTCFullYear() - 1970);\r\n}\r\n\r\nexport function minuteToTime(duration: number) {\r\n  const hours = duration / 60;\r\n  const rhours = Math.floor(hours);\r\n  var minutes = (hours - rhours) * 60;\r\n  var rminutes = Math.round(minutes);\r\n  return `${rhours}h ${rminutes}m`;\r\n}\r\n\r\nexport function updateCacheData<T extends { id: number }>(data: T[]) {\r\n  return (oldData: T[] = []) => {\r\n    const allData = [...oldData, ...data];\r\n    const uniqueIds = Array.from(new Set(allData.map((a) => a.id)));\r\n    const result: T[] = [];\r\n    uniqueIds.forEach((id) => {\r\n      const movie = allData.find((m) => m.id === id);\r\n      if (movie) result.push(movie);\r\n    });\r\n    return result;\r\n  };\r\n}\r\n\r\nexport function debounce<T extends (...args: any[]) => any>(\r\n  fn: T,\r\n  time = 50\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout;\r\n  return function (...args: Parameters<T>) {\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n    }\r\n    timeout = setTimeout(() => {\r\n      fn(...args);\r\n      clearTimeout(timeout);\r\n    }, time);\r\n  };\r\n}\r\n\r\nexport const isTouchScreen = () => \"ontouchstart\" in window;\r\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport useClickOutside from \"../hooks/useClickOutside\";\nimport ArrowDown from \"../icons/ArrowDown\";\nimport ArrowUp from \"../icons/ArrowUp\";\nimport { debounce } from \"../utils/utils\";\nimport Button from \"./Button\";\n\nconst StyledButton = styled(Button)<{ isSelected: boolean }>`\n  background-color: inherit;\n  border: none;\n  border-radius: unset;\n  color: ${({ isSelected, theme: { colors } }) =>\n    isSelected ? colors.text1 : colors.text2};\n  font-weight: ${({ isSelected }) => (isSelected ? 600 : 400)};\n\n  &:hover {\n    background-color: ${({ theme: { colors } }) => colors.surface4};\n  }\n\n  &[aria-hidden=\"true\"] {\n    visibility: hidden;\n  }\n`;\n\nconst IconButton = styled(Button)<{ isHidden: boolean }>`\n  border: none;\n  position: absolute;\n  background-color: inherit;\n  z-index: 1;\n  color: ${({ theme: { colors } }) => colors.text1};\n  visibility: ${(props) => (props.isHidden ? \"hidden\" : \"initial\")};\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: hidden;\n  border-bottom: 1px solid ${(props) => props.theme.colors.surface4};\n  margin-inline: ${(props) => props.theme.size.lg};\n  margin-block-end: ${(props) => props.theme.size.md};\n  padding-block: ${(props) => props.theme.size.xxxs};\n\n  & > button > svg {\n    width: 2ch;\n  }\n`;\n\nconst DropDown = styled.div`\n  background-color: ${(props) => props.theme.colors.surface3};\n  width: max-content;\n\n  position: absolute;\n  transform: translate(-60%, -20px);\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n\n  max-block-size: 200px;\n  overflow-y: scroll;\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n\n  & > button {\n    width: 100%;\n    padding-block: ${(props) => props.theme.size.xs};\n    text-align: left;\n  }\n`;\n\nconst DropDownContainer = styled.div`\n  position: relative;\n  width: max-content;\n`;\n\nconst getWidthAndHorizontalMargins = (elem: HTMLElement) => {\n  const style = window.getComputedStyle(elem);\n  return (\n    elem.offsetWidth +\n    parseInt(style.marginLeft, 10) +\n    parseInt(style.marginRight, 10)\n  );\n};\ntype Item = {\n  id: number;\n  label: string;\n  isSelected: boolean;\n  onClick: React.MouseEventHandler<HTMLButtonElement>;\n};\ntype ButtonGroupProps = {\n  items: Item[];\n};\nconst ButtonGroup = ({ items }: ButtonGroupProps) => {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const iconRef = useRef<HTMLButtonElement | null>(null);\n  const dropDownRef = useRef<HTMLDivElement | null>(null);\n  const buttonRefs = useRef<(HTMLButtonElement | null)[]>([]);\n  const [hiddenItems, setHiddenItems] = useState<Item[]>([]);\n\n  const [open, setOpen] = useState(false);\n\n  const handleDropDown = () => setOpen(!open);\n\n  const onWindowResize = useCallback(() => {\n    // width of the container and icon\n    const container = containerRef.current;\n    if (container) {\n      const containerWidth = container.offsetWidth;\n      let occupiedWidth = iconRef.current?.offsetWidth || 0;\n\n      let lastVisible = buttonRefs.current[0];\n\n      let hiddenItems: Item[] = [];\n      buttonRefs.current.forEach((element, index) => {\n        if (element) {\n          const width = getWidthAndHorizontalMargins(element);\n          if (occupiedWidth + width <= containerWidth) {\n            element.setAttribute(\"aria-hidden\", \"false\");\n            lastVisible = element;\n          } else {\n            element.setAttribute(\"aria-hidden\", \"true\");\n            hiddenItems.push(items[index]);\n          }\n          occupiedWidth += width;\n        }\n      });\n\n      setHiddenItems(hiddenItems);\n      // based on last visible button set iconButton position\n      if (lastVisible && iconRef.current && dropDownRef.current) {\n        iconRef.current.style.left = `${\n          lastVisible.offsetLeft + lastVisible.clientWidth\n        }px`;\n        dropDownRef.current.style.left = `${iconRef.current.offsetLeft}px`;\n      }\n    }\n  }, [items]);\n\n  useEffect(() => {\n    onWindowResize();\n    const debouncedFunc = debounce(onWindowResize, 100);\n    window.addEventListener(\"resize\", debouncedFunc);\n    return () => {\n      window.removeEventListener(\"resize\", debouncedFunc);\n    };\n  }, [items, onWindowResize]);\n\n  useClickOutside(dropDownRef, () => open && handleDropDown());\n\n  return (\n    <>\n      <ButtonWrapper ref={containerRef}>\n        {items.map((item, i) => (\n          <StyledButton\n            key={item.id}\n            data-button-id={item.id}\n            onClick={item.onClick}\n            isSelected={item.isSelected}\n            ref={(ref) => (buttonRefs.current[i] = ref)}\n          >\n            {item.label}\n          </StyledButton>\n        ))}\n        <IconButton\n          onClick={handleDropDown}\n          ref={iconRef}\n          aria-label=\"Expand Genres\"\n          isHidden={hiddenItems.length === 0}\n        >\n          {open ? <ArrowUp /> : <ArrowDown />}\n        </IconButton>\n      </ButtonWrapper>\n\n      <DropDownContainer ref={dropDownRef}>\n        {open && (\n          <DropDown>\n            {hiddenItems.map((item) => (\n              <StyledButton\n                key={item.id}\n                onClick={(e) => item.onClick(e)}\n                data-button-id={item.id}\n                isSelected={item.isSelected}\n              >\n                {item.label}\n              </StyledButton>\n            ))}\n          </DropDown>\n        )}\n      </DropDownContainer>\n    </>\n  );\n};\n\nexport default ButtonGroup;\n","const ArrowLeft = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={5}\r\n      d=\"M15 19l-7-7 7-7\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default ArrowLeft;\r\n","const ArrowRight = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={5}\r\n      d=\"M9 5l7 7-7 7\"\r\n    />\r\n  </svg>\r\n);\r\nexport default ArrowRight;\r\n","import { Link } from \"@reach/router\";\nimport { ImageRatio, MediaType } from \"../types/common\";\nimport { getImageHeightAndWidth } from \"../utils/utils\";\nimport Skeleton from \"react-loading-skeleton\";\nimport styled from \"styled-components\";\n\nconst Figure = styled.figure`\n  scroll-snap-align: start;\n\n  display: grid;\n  gap: calc(${(props) => props.theme.size.lg} / 2);\n  margin: 0;\n\n  cursor: pointer;\n  user-select: none;\n\n  outline-offset: 12px;\n\n  &:focus {\n    outline-offset: 7px;\n  }\n`;\n\ntype ImageProps = {\n  aspectRatio: ImageRatio;\n  inlineSize: string;\n  blockSize: string;\n};\n\nconst Image = styled.img<ImageProps>`\n  inline-size: ${(props) => props.inlineSize};\n  block-size: ${(props) => props.blockSize};\n\n  aspect-ratio: ${(props) => props.aspectRatio};\n\n  object-fit: cover;\n\n  border-radius: 1ex;\n  border: none;\n  overflow: hidden;\n  background-image: ${(props) =>\n    `linear-gradient(to bottom, ${props.theme.colors.surface1}, ${props.theme.colors.surface2})`};\n`;\n\nconst Figcaption = styled.figcaption<{\n  inlineSize: string;\n}>`\n  line-height: ${(props) => props.theme.size.lg};\n  inline-size: ${(props) => props.inlineSize};\n  font-weight: 600;\n  font-size: ${(props) => props.theme.size.md};\n\n  & > p {\n    font-size: ${(props) => props.theme.size.sm};\n    font-weight: 400;\n    color: ${(props) => props.theme.colors.text2};\n    padding-block: ${(props) => props.theme.size.sm};\n  }\n`;\n\nexport type ListItemType = {\n  id: number;\n  image: {\n    src: string;\n    srcset: string;\n  };\n  title: string;\n  caption?: string;\n};\n\ntype MediaListItemProps = {\n  item: ListItemType;\n  ratio: ImageRatio;\n  mediaType: MediaType;\n  size?: number;\n};\n\nconst MediaListItem = ({\n  item,\n  ratio,\n  mediaType,\n  size,\n}: MediaListItemProps) => {\n  const [height, width] = getImageHeightAndWidth(ratio, size);\n\n  return (\n    <div style={{ width }}>\n      <Link to={`${process.env.PUBLIC_URL}/${mediaType}/${item.id}`}>\n        <Figure>\n          <picture>\n            {item.image.src ? (\n              <Image\n                aspectRatio={ratio}\n                inlineSize={width}\n                blockSize={height}\n                alt={item.title}\n                loading=\"lazy\"\n                srcSet={item.image.srcset}\n                src={item.image.src}\n              />\n            ) : (\n              <Skeleton width={width} height={height} />\n            )}\n          </picture>\n          <Figcaption inlineSize={width}>\n            {item.title || (\n              <>\n                <Skeleton />\n                <Skeleton width=\"65%\" />\n              </>\n            )}\n            {item.caption && <p>{item.caption}</p>}\n          </Figcaption>\n        </Figure>\n      </Link>\n    </div>\n  );\n};\n\nexport default MediaListItem;\n","import { useCallback, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport ArrowLeft from \"../icons/ArrowLeft\";\nimport ArrowRight from \"../icons/ArrowRight\";\nimport { ImageRatio, MediaType } from \"../types/common\";\nimport {\n  debounce,\n  getImageHeightAndWidth,\n  isTouchScreen,\n} from \"../utils/utils\";\nimport MediaListItem, { ListItemType } from \"./MediaListItem\";\n\nconst Div = styled.div`\n  position: relative;\n`;\n\nconst Arrow = styled.span<{ bsize: string; isHidden: boolean }>`\n  color: white;\n  background: rgba(20, 20, 20, 0.5);\n\n  cursor: pointer;\n  font-size: 6em;\n\n  position: absolute;\n  top: ${(props) => props.theme.size.xs};\n  height: ${(props) => props.bsize};\n  width: 4%;\n\n  text-align: center;\n  display: none;\n  justify-content: center;\n  align-items: center;\n\n  visibility: ${(props) => (props.isHidden ? \"hidden\" : \"visible\")};\n\n  &:nth-of-type(1) {\n    left: 0;\n  }\n\n  &:nth-of-type(2) {\n    right: 0;\n  }\n  ${Div}:hover & {\n    display: inline-flex;\n  }\n`;\n\nconst MediaScrollerUL = styled.ul`\n  display: grid;\n  grid-auto-flow: column;\n  gap: ${(props) => props.theme.size.xl};\n\n  padding-inline: ${(props) => props.theme.size.lg};\n  padding-block: ${(props) => props.theme.size.xs};\n\n  overflow-x: auto;\n  overscroll-behavior-inline: contain;\n  scroll-snap-type: inline mandatory;\n  scroll-padding-left: ${(props) => props.theme.size.xl};\n  scroll-padding-right: ${(props) => props.theme.size.xl};\n  scroll-padding-inline: ${(props) => props.theme.size.xl};\n\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n\n  @media (prefers-reduced-motion: no-preference) {\n    & {\n      scroll-behavior: smooth;\n    }\n  }\n`;\n\ntype MediaItemProps = {\n  inlineSize: string;\n};\n\nconst MediaItem = styled.li<MediaItemProps>`\n  display: inline-block;\n  inline-size: ${(props) => props.inlineSize};\n  block-size: min-content;\n`;\n\ntype MediaScrollerProps = {\n  list: ListItemType[];\n  ratio?: ImageRatio;\n  loading?: boolean;\n  mediaType?: MediaType;\n};\n\nconst MediaScroller = ({\n  list,\n  ratio = \"1/1\",\n  loading = false,\n  mediaType = \"movie\",\n}: MediaScrollerProps) => {\n  const [height, width] = getImageHeightAndWidth(ratio);\n  const mediaList = useRef<HTMLUListElement>(document.createElement(\"ul\"));\n  const [isHiddenLeftArrow, setIsHiddenLeftArrow] = useState(true);\n  const { offsetWidth, scrollWidth } = mediaList.current;\n  const [isHiddenRightArrow, setIsHiddenRightArrow] = useState(\n    offsetWidth >= scrollWidth\n  );\n\n  const scrollToRight = useCallback(() => {\n    const { offsetWidth, scrollLeft } = mediaList.current;\n    mediaList.current.scrollTo({\n      top: 0,\n      left: scrollLeft + offsetWidth,\n      behavior: \"smooth\",\n    });\n  }, []);\n\n  const scrollToLeft = useCallback(() => {\n    const { offsetWidth, scrollLeft } = mediaList.current;\n    mediaList.current.scrollTo({\n      top: 0,\n      left: scrollLeft - offsetWidth,\n      behavior: \"smooth\",\n    });\n  }, []);\n\n  const handleScroll = useCallback(() => {\n    if (!mediaList.current) return;\n    const { offsetWidth, scrollLeft, scrollWidth } = mediaList.current;\n\n    if (offsetWidth + scrollLeft >= scrollWidth) {\n      setIsHiddenRightArrow(true);\n    } else if (isHiddenRightArrow) {\n      setIsHiddenRightArrow(false);\n    }\n\n    if (scrollLeft === 0) {\n      setIsHiddenLeftArrow(true);\n    } else if (isHiddenLeftArrow) {\n      setIsHiddenLeftArrow(false);\n    }\n  }, [isHiddenLeftArrow, isHiddenRightArrow]);\n\n  const data = loading\n    ? (Array(10).fill({ image: {} }) as ListItemType[])\n    : list;\n\n  return (\n    <Div>\n      {!loading && !isTouchScreen() && (\n        <>\n          <Arrow\n            bsize={height}\n            onClick={scrollToLeft}\n            isHidden={isHiddenLeftArrow}\n          >\n            <ArrowLeft />\n          </Arrow>\n          <Arrow\n            bsize={height}\n            onClick={scrollToRight}\n            isHidden={isHiddenRightArrow}\n          >\n            <ArrowRight />\n          </Arrow>\n        </>\n      )}\n      <MediaScrollerUL ref={mediaList} onScroll={debounce(handleScroll)}>\n        {data.map((item, index) => (\n          <MediaItem inlineSize={width} key={`${item.id}-${index}`}>\n            <MediaListItem item={item} ratio={ratio} mediaType={mediaType} />\n          </MediaItem>\n        ))}\n      </MediaScrollerUL>\n    </Div>\n  );\n};\n\nexport default MediaScroller;\n","import styled from \"styled-components\";\nimport { ImageRatio } from \"../types/common\";\nimport Button from \"./Button\";\n\nexport const Header = styled.header`\n  display: grid;\n  grid-auto-flow: column;\n  align-items: flex-start;\n  justify-content: start;\n  padding-inline: ${(props) => props.theme.size.lg};\n  padding-block: ${(props) => props.theme.size.xs};\n  grid-gap: ${(props) => props.theme.size.xs};\n\n  & h1 {\n    font-size: ${(props) => props.theme.size.xl};\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  display: grid;\n  grid-auto-flow: column;\n  width: min-content;\n  border-radius: ${(props) => props.theme.size.md};\n  border: 1px solid ${({ theme }) => theme.colors.text1};\n\n  & > button {\n    border: none;\n    border-radius: inherit;\n  }\n`;\n\nexport const MediaScreenContainer = styled.div`\n  background-image: linear-gradient(\n    to right,\n    ${(props) => props.theme.colors.surface2},\n    ${(props) => props.theme.colors.surface4}\n  );\n`;\n\nexport const ImageContainer = styled.div<{\n  img?: string;\n}>`\n  display: flex;\n  justify-content: center;\n  gap: ${(props) => props.theme.size.lg};\n  padding-block: ${(props) => props.theme.size.xxl};\n  padding-inline: calc(${(props) => props.theme.size.xxl} * 4);\n  background-image: linear-gradient(\n      to right,\n      ${(props) => props.theme.getColorWithOpacity(\"surface1\", 0.95)},\n      ${(props) => props.theme.getColorWithOpacity(\"surface2\", 0.9)}\n    ),\n    url(${(props) => props.img});\n\n  background-size: cover;\n  background-position: center;\n  border-radius: 1ex;\n\n  @media ${({ theme }) => theme.mediaQueries.below768} {\n    flex-direction: column;\n    align-items: center;\n    flex-wrap: wrap;\n    padding-inline: ${(props) => props.theme.size.xxl};\n  }\n`;\n\nexport const Figure = styled.figure`\n  background-color: ${(props) => props.theme.colors.surface2};\n  border-radius: 1ex;\n  height: 100%;\n\n  & > figcaption {\n    line-height: ${(props) => props.theme.size.lg};\n    padding-block-end: ${(props) => props.theme.size.xs};\n    text-align: center;\n    padding-top: 0;\n    width: 100%;\n    font-weight: 600;\n    font-size: ${(props) => props.theme.size.md};\n  }\n`;\n\ntype ImageProps = {\n  aspectRatio: ImageRatio;\n  inlineSize: string;\n  blockSize: string;\n  showPointer?: boolean;\n};\n\nexport const Image = styled.img<ImageProps>`\n  inline-size: ${(props) => props.inlineSize};\n  block-size: ${(props) => props.blockSize};\n\n  aspect-ratio: ${(props) => props.aspectRatio};\n  cursor: ${(props) => (props.showPointer ? \"pointer\" : \"initial\")};\n  object-fit: cover;\n\n  border-top-right-radius: 1ex;\n  border-top-left-radius: 1ex;\n\n  border: none;\n  overflow: hidden;\n  background-image: ${(props) =>\n    `linear-gradient(to bottom, ${props.theme.colors.surface1}, ${props.theme.colors.surface2})`};\n`;\n\nexport const MediaDescription = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: ${(props) => props.theme.size.xl};\n\n  .mediaHeading > h1 {\n    font-size: ${(props) => props.theme.size.xxl};\n    line-height: ${(props) => props.theme.size.xxl};\n\n    font-weight: 600;\n    & > span {\n      font-weight: 400;\n    }\n  }\n  .mediaFacts {\n    display: flex;\n    line-height: ${(props) => props.theme.size.xxl};\n\n    gap: ${(props) => props.theme.size.xxl};\n    & > span {\n      white-space: nowrap;\n    }\n  }\n  .mediaGenres,\n  .mediaSocial {\n    display: flex;\n    flex-wrap: wrap;\n    gap: ${(props) => props.theme.size.sm};\n  }\n`;\n\nexport const SectionWithBGColor = styled.section`\n  background-image: ${(props) =>\n    `linear-gradient(\n  135deg,\n  ${props.theme.colors.surface2},\n  ${props.theme.colors.surface4}\n)`};\n`;\n\nexport const MediaGridSection = styled.section<{ gridItemSize: string }>`\n  .mediaGrid {\n    display: grid;\n    grid-template-columns: repeat(\n      auto-fit,\n      minmax(${(props) => props.gridItemSize}, 1fr)\n    );\n    gap: ${(props) => props.theme.size.xl};\n\n    padding-inline: ${(props) => props.theme.size.lg};\n    padding-block: ${(props) => props.theme.size.xs};\n\n    & > div {\n      justify-self: center;\n    }\n  }\n`;\n\nexport const TrailerButton = styled(Button)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  color: ${(props) => props.theme.colors.text1};\n  font-size: ${(props) => props.theme.size.md};\n  border: none;\n\n  & > svg {\n    margin-inline: ${(props) => props.theme.size.xs};\n  }\n`;\n","export const fetcher = async (url: string) => {\r\n  try {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (e) {\r\n    throw new Error('Api Error');\r\n  }\r\n};\r\n\r\nexport const multiFetcher = (...urls: string[]) =>\r\n  Promise.all(urls.map(fetcher));\r\n","import { useQuery } from \"react-query\";\r\nimport { queryClient } from \"../../App\";\r\nimport { fetcher } from \"../../services/api\";\r\nimport { MediaTypeExcludePerson } from \"../../types/common\";\r\nimport { GenreMovies } from \"../../types/Movies\";\r\nimport { GenreTv } from \"../../types/Tv\";\r\nimport { queryKeys } from \"../../utils/constants\";\r\nimport { getUrl, updateCacheData } from \"../../utils/utils\";\r\n\r\ntype ContentByGenreType<T> = T extends \"movie\"\r\n  ? GenreMovies\r\n  : T extends \"tv\"\r\n  ? GenreTv\r\n  : never;\r\n\r\nfunction useContentByGenre<T extends MediaTypeExcludePerson>(\r\n  type: T,\r\n  genreId: number,\r\n  enabled = false\r\n) {\r\n  return useQuery<\r\n    ContentByGenreType<T>,\r\n    string,\r\n    ContentByGenreType<T>[\"results\"],\r\n    [MediaTypeExcludePerson, \"genre\", number]\r\n  >(\r\n    [type, \"genre\", genreId],\r\n    () => fetcher(getUrl(`discover/${type}`, `&with_genres=${genreId}`)),\r\n    {\r\n      select: (data) => data.results,\r\n      onSuccess: (data) => {\r\n        if (type === \"movie\") {\r\n          queryClient.setQueryData(\r\n            queryKeys.movies,\r\n            updateCacheData(data as GenreMovies[\"results\"])\r\n          );\r\n        } else if (type === \"tv\") {\r\n          queryClient.setQueryData(\r\n            queryKeys.movies,\r\n            updateCacheData(data as GenreTv[\"results\"])\r\n          );\r\n        }\r\n      },\r\n      enabled,\r\n    }\r\n  );\r\n}\r\n\r\nexport default useContentByGenre;\r\n","import { useQuery } from 'react-query';\r\nimport { multiFetcher } from '../../services/api';\r\nimport { Genres } from '../../types/common';\r\nimport { getUrl } from '../../utils/utils';\r\n\r\nfunction useGenres() {\r\n  return useQuery<\r\n    { genres: Genres }[],\r\n    string,\r\n    { tvGenres: Genres; movieGenres: Genres },\r\n    'genres'\r\n  >(\r\n    'genres',\r\n    () => multiFetcher(getUrl('genre/tv/list'), getUrl('genre/movie/list')),\r\n    {\r\n      select: (data) => {\r\n        const [tv, movie] = data;\r\n        return { tvGenres: tv.genres, movieGenres: movie.genres };\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\nexport default useGenres;\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\ninterface Options extends IntersectionObserverInit {\r\n  triggerOnce?: boolean;\r\n}\r\n\r\nconst useInView = ({\r\n  triggerOnce = false,\r\n  threshold = 0,\r\n  root = null,\r\n  rootMargin = \"0%\",\r\n}: Options = {}) => {\r\n  const ref = useRef<any>(null);\r\n  const [inView, setInView] = useState(false);\r\n  useEffect(() => {\r\n    const node = ref?.current; // DOM Ref\r\n    const hasIOSupport = !!window.IntersectionObserver;\r\n\r\n    if (!hasIOSupport || !node) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries, observer) => {\r\n        entries.forEach((entry) => {\r\n          setInView(entry.isIntersecting);\r\n          // after inView and triggeronce disconnect\r\n          if (entry.isIntersecting && triggerOnce) {\r\n            observer.disconnect();\r\n          }\r\n        });\r\n      },\r\n      { root, rootMargin, threshold }\r\n    );\r\n\r\n    observer.observe(node);\r\n\r\n    return () => observer.disconnect();\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return { ref, inView };\r\n};\r\n\r\nexport default useInView;\r\n","import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../components/Button\";\nimport MediaScroller from \"../components/MediaScroller\";\nimport { ButtonContainer, Header } from \"../components/StyledElements\";\nimport useContentByGenre from \"../hooks/data/useContentByGenre\";\nimport useInView from \"../hooks/useInView\";\nimport { Genre, MediaTypeExcludePerson } from \"../types/common\";\nimport { GenreMovies } from \"../types/Movies\";\nimport { GenreTv } from \"../types/Tv\";\nimport { getImageSrc, getReleaseDate } from \"../utils/utils\";\n\nconst Section = styled.section<{ isBackdrop: boolean }>`\n  background-image: ${(props) =>\n    props.isBackdrop\n      ? `linear-gradient(\n    135deg,\n    ${props.theme.colors.surface2},\n    ${props.theme.colors.surface4}\n  )`\n      : \"none\"};\n`;\ntype GenreSectionProps = { genre: Genre; index: number };\n\nconst GenreSection = ({ genre, index }: GenreSectionProps) => {\n  const { ref, inView } = useInView({ triggerOnce: true });\n  const [selectedMedia, setSelectedMedia] =\n    useState<MediaTypeExcludePerson>(\"movie\");\n  const isBackdrop = index % 2 === 0;\n\n  // conditionally fetch only if the section is in view.\n  const { data = [], isLoading } = useContentByGenre(\n    selectedMedia,\n    genre.id,\n    inView\n  );\n\n  const mediaScrollerList = data.map((item) => ({\n    id: item.id,\n    image: getImageSrc(\n      isBackdrop ? item.backdrop_path : item.poster_path,\n      isBackdrop ? \"backdrop\" : \"poster\"\n    ),\n    title:\n      selectedMedia === \"movie\"\n        ? (item as GenreMovies[\"results\"][number]).title\n        : (item as GenreTv[\"results\"][number]).name,\n    caption: getReleaseDate(\n      selectedMedia === \"movie\"\n        ? (item as GenreMovies[\"results\"][number]).release_date\n        : (item as GenreTv[\"results\"][number]).first_air_date\n    ),\n  }));\n\n  return (\n    <Section ref={ref} isBackdrop={isBackdrop}>\n      <Header>\n        <h1>{genre.name}</h1>\n        <ButtonContainer>\n          <Button\n            primary={selectedMedia === \"movie\"}\n            onClick={() => setSelectedMedia(\"movie\")}\n          >\n            {\"movie\"}\n          </Button>\n          <Button\n            primary={selectedMedia === \"tv\"}\n            onClick={() => setSelectedMedia(\"tv\")}\n          >\n            {\"tv\"}\n          </Button>\n        </ButtonContainer>\n      </Header>\n      <MediaScroller\n        list={mediaScrollerList}\n        ratio={isBackdrop ? \"16/9\" : \"2/3\"}\n        // if not in the view just render loading screen\n        loading={inView ? isLoading : true}\n        mediaType={selectedMedia}\n      />\n    </Section>\n  );\n};\n\nexport default GenreSection;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport Button from \"../components/Button\";\nimport ButtonGroup from \"../components/ButtonGroup\";\nimport MediaScroller from \"../components/MediaScroller\";\nimport { ButtonContainer, Header } from \"../components/StyledElements\";\nimport useContentByGenre from \"../hooks/data/useContentByGenre\";\nimport useGenres from \"../hooks/data/useGenres\";\nimport { MediaTypeExcludePerson } from \"../types/common\";\nimport { GenreMovies } from \"../types/Movies\";\nimport { GenreTv } from \"../types/Tv\";\nimport { getImageSrc, getReleaseDate } from \"../utils/utils\";\nimport GenreSection from \"./GenreSection\";\n\nconst ContentByGenres = () => {\n  const [selectedMedia, setSelectedMedia] =\n    useState<MediaTypeExcludePerson>(\"movie\");\n  const { data, isLoading } = useGenres();\n  const { tvGenres = [], movieGenres = [] } = data || {};\n  const tvGenresId = tvGenres.map(({ id }) => id);\n  const commonGenres = movieGenres.filter(({ id }) => tvGenresId.includes(id));\n  const genres = selectedMedia === \"movie\" ? movieGenres : tvGenres;\n  const [selectedButtonId, setSelectedButtonId] = useState(genres[0]?.id);\n\n  const buttonListItems = useMemo(\n    () =>\n      genres.map(({ id, name }) => ({\n        id,\n        label: name,\n        isSelected: id === selectedButtonId,\n        onClick: (e: React.MouseEvent<HTMLButtonElement>) => {\n          const { buttonId } = e.currentTarget.dataset;\n          if (buttonId) {\n            setSelectedButtonId(parseInt(buttonId));\n          }\n        },\n      })),\n    [genres, selectedButtonId]\n  );\n\n  useEffect(() => {\n    setSelectedButtonId(genres[0]?.id);\n  }, [genres]);\n\n  const { data: genreData = [], isLoading: genreDataIsLoading } =\n    useContentByGenre(selectedMedia, selectedButtonId, true);\n\n  const mediaScrollerList = genreData.map((item) => ({\n    id: item.id,\n    image: getImageSrc(item.poster_path, \"poster\"),\n    title:\n      selectedMedia === \"movie\"\n        ? (item as GenreMovies[\"results\"][number]).title\n        : (item as GenreTv[\"results\"][number]).name,\n    caption: getReleaseDate(\n      selectedMedia === \"movie\"\n        ? (item as GenreMovies[\"results\"][number]).release_date\n        : (item as GenreTv[\"results\"][number]).first_air_date\n    ),\n  }));\n\n  return (\n    <>\n      {isLoading ? (\n        <MediaScroller list={[]} loading ratio={\"2/3\"} />\n      ) : (\n        <>\n          <section>\n            <Header>\n              <h1>Genres</h1>\n              <ButtonContainer>\n                <Button\n                  primary={selectedMedia === \"movie\"}\n                  onClick={() => setSelectedMedia(\"movie\")}\n                >\n                  {\"movie\"}\n                </Button>\n                <Button\n                  primary={selectedMedia === \"tv\"}\n                  onClick={() => setSelectedMedia(\"tv\")}\n                >\n                  {\"tv\"}\n                </Button>\n              </ButtonContainer>\n            </Header>\n            <ButtonGroup items={buttonListItems} />\n            <MediaScroller\n              list={mediaScrollerList}\n              ratio={\"2/3\"}\n              loading={genreDataIsLoading}\n              mediaType={selectedMedia}\n            />\n          </section>\n\n          {commonGenres.map((genre, index) => (\n            <GenreSection genre={genre} key={genre.id} index={index} />\n          ))}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default ContentByGenres;\n","import { useQuery } from \"react-query\";\r\nimport { queryClient } from \"../../App\";\r\nimport { fetcher } from \"../../services/api\";\r\nimport { MovieType } from \"../../types/common\";\r\nimport { PopularMovies, UpcomingMovies } from \"../../types/Movies\";\r\nimport { queryKeys } from \"../../utils/constants\";\r\nimport { getUrl, updateCacheData } from \"../../utils/utils\";\r\n\r\ntype DiscoverMovieType<T> = T extends \"upcoming\"\r\n  ? UpcomingMovies\r\n  : T extends \"popular\"\r\n  ? PopularMovies\r\n  : never;\r\n\r\nfunction useDiscoverMovies<T extends MovieType>(type: T) {\r\n  return useQuery<\r\n    DiscoverMovieType<T>,\r\n    string,\r\n    DiscoverMovieType<T>[\"results\"],\r\n    [\"movie\", MovieType]\r\n  >([\"movie\", type], () => fetcher(getUrl(`movie/${type}`)), {\r\n    select: (data) => data.results,\r\n    onSuccess: (data) => {\r\n      queryClient.setQueryData(queryKeys.movies, updateCacheData(data));\r\n    },\r\n  });\r\n}\r\n\r\nexport default useDiscoverMovies;\r\n","import { useCallback, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../components/Button\";\nimport MediaScroller from \"../components/MediaScroller\";\nimport { ButtonContainer, Header } from \"../components/StyledElements\";\nimport useDiscoverMovies from \"../hooks/data/useDiscoverMovies\";\nimport { MovieType } from \"../types/common\";\nimport { getImageSrc, getReleaseDate } from \"../utils/utils\";\n\nconst Section = styled.section`\n  background-image: linear-gradient(\n    135deg,\n    ${(props) => props.theme.colors.surface2},\n    ${(props) => props.theme.colors.surface4}\n  );\n`;\n\nconst DiscoverMovies = () => {\n  const [movieType, setMovieType] = useState<MovieType>(\"popular\");\n\n  const { data = [], isLoading } = useDiscoverMovies(movieType);\n\n  const mediaScrollerList = data.map(\n    ({ id, title, backdrop_path, release_date }) => ({\n      id,\n      title,\n      image: getImageSrc(backdrop_path, \"backdrop\"),\n      caption: getReleaseDate(release_date),\n    })\n  );\n\n  const handleButton = useCallback(\n    () => setMovieType(movieType === \"popular\" ? \"upcoming\" : \"popular\"),\n    [movieType]\n  );\n\n  return (\n    <Section id=\"discover-movies\">\n      <Header>\n        <h1>Discover Movies</h1>\n        <ButtonContainer>\n          <Button\n            primary={movieType === \"popular\"}\n            disabled={movieType === \"popular\"}\n            onClick={handleButton}\n          >\n            Popular\n          </Button>\n          <Button\n            primary={movieType === \"upcoming\"}\n            disabled={movieType === \"upcoming\"}\n            onClick={handleButton}\n          >\n            Upcoming\n          </Button>\n        </ButtonContainer>\n      </Header>\n\n      <MediaScroller\n        list={mediaScrollerList}\n        loading={isLoading}\n        ratio=\"16/9\"\n      />\n    </Section>\n  );\n};\n\nexport default DiscoverMovies;\n","import { useQuery } from \"react-query\";\r\nimport { queryClient } from \"../../App\";\r\nimport { fetcher } from \"../../services/api\";\r\nimport { MediaType } from \"../../types/common\";\r\nimport { TrendingMovies } from \"../../types/Movies\";\r\nimport { TrendingPerson } from \"../../types/Person\";\r\nimport { TrendingTv } from \"../../types/Tv\";\r\nimport { queryKeys } from \"../../utils/constants\";\r\nimport { getUrl, updateCacheData } from \"../../utils/utils\";\r\n\r\nexport interface TrendingAll {\r\n  page: number;\r\n  results: TrendingAllResult;\r\n  total_pages: number;\r\n  total_results: number;\r\n}\r\n\r\ntype TrendingAllResult =\r\n  | TrendingPerson[\"results\"]\r\n  | TrendingMovies[\"results\"]\r\n  | TrendingTv[\"results\"];\r\n\r\ntype TrendingType<T> = T extends \"movie\"\r\n  ? TrendingMovies\r\n  : T extends \"tv\"\r\n  ? TrendingTv\r\n  : T extends \"person\"\r\n  ? TrendingPerson\r\n  : T extends \"all\"\r\n  ? TrendingAll\r\n  : never;\r\n\r\nfunction useTrending<T extends MediaType | \"all\">(type: T) {\r\n  return useQuery<\r\n    TrendingType<T>,\r\n    string,\r\n    TrendingType<T>[\"results\"],\r\n    [MediaType | \"all\", \"trending\"]\r\n  >([type, \"trending\"], () => fetcher(getUrl(`trending/${type}/day`)), {\r\n    select: (data) => data.results,\r\n    onSuccess: (data) => {\r\n      if (type === \"movie\") {\r\n        queryClient.setQueryData(\r\n          queryKeys.movies,\r\n          updateCacheData(data as TrendingMovies[\"results\"])\r\n        );\r\n      } else if (type === \"tv\") {\r\n        queryClient.setQueryData(\r\n          queryKeys.movies,\r\n          updateCacheData(data as TrendingTv[\"results\"])\r\n        );\r\n      } else if (type === \"person\") {\r\n        queryClient.setQueryData(\r\n          queryKeys.persons,\r\n          updateCacheData(data as TrendingPerson[\"results\"])\r\n        );\r\n      }\r\n    },\r\n  });\r\n}\r\n\r\nexport default useTrending;\r\n","import { useCallback, useState } from \"react\";\nimport Button from \"../components/Button\";\nimport MediaScroller from \"../components/MediaScroller\";\nimport { ButtonContainer, Header } from \"../components/StyledElements\";\nimport useTrending from \"../hooks/data/useTrending\";\nimport { MediaTypeExcludePerson } from \"../types/common\";\nimport { TrendingMovies } from \"../types/Movies\";\nimport { TrendingTv } from \"../types/Tv\";\nimport { getImageSrc, getReleaseDate } from \"../utils/utils\";\n\nconst Trending = () => {\n  const [selectedMedia, setSelectedMedia] =\n    useState<MediaTypeExcludePerson>(\"movie\");\n\n  const { data = [], isLoading } = useTrending(selectedMedia);\n\n  const mediaScrollerList = data.map((item) => ({\n    id: item.id,\n    image: getImageSrc(item.poster_path, \"poster\"),\n    title:\n      selectedMedia === \"movie\"\n        ? (item as TrendingMovies[\"results\"][number]).title\n        : (item as TrendingTv[\"results\"][number]).name,\n    caption: getReleaseDate(\n      selectedMedia === \"movie\"\n        ? (item as TrendingMovies[\"results\"][number]).release_date\n        : (item as TrendingTv[\"results\"][number]).first_air_date\n    ),\n  }));\n\n  const handleButton = useCallback(\n    () => setSelectedMedia(selectedMedia === \"movie\" ? \"tv\" : \"movie\"),\n    [selectedMedia]\n  );\n\n  return (\n    <section id=\"trending\">\n      <Header>\n        <h1>Trending</h1>\n        <ButtonContainer>\n          <Button\n            primary={selectedMedia === \"movie\"}\n            disabled={selectedMedia === \"movie\"}\n            onClick={handleButton}\n          >\n            {\"movie\"}\n          </Button>\n          <Button\n            primary={selectedMedia === \"tv\"}\n            disabled={selectedMedia === \"tv\"}\n            onClick={handleButton}\n          >\n            {\"tv\"}\n          </Button>\n        </ButtonContainer>\n      </Header>\n\n      <MediaScroller\n        list={mediaScrollerList}\n        ratio=\"2/3\"\n        loading={isLoading}\n        mediaType={selectedMedia}\n      />\n    </section>\n  );\n};\n\nexport default Trending;\n","import { RouteComponentProps } from \"@reach/router\";\nimport ContentByGenres from \"./ContentByGenres\";\nimport DiscoverMovies from \"./DiscoverMovies\";\nimport Trending from \"./Trending\";\n\nconst Home = (props: RouteComponentProps) => (\n  <>\n    <Trending />\n    <DiscoverMovies />\n    <ContentByGenres />\n  </>\n);\n\nexport default Home;\n","import { ReactNode, useCallback, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nconst Backdrop = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 2;\n\n  background: ${(props) => props.theme.getColorWithOpacity(\"surface4\", 0.96)};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ModalDiv = styled.div`\n  width: clamp(50%, calc(${(props) => props.theme.size.xxxl} * 10), 90%);\n  height: min(50%);\n  border-radius: 1ex;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\ntype ModalProps = {\n  onClose: React.MouseEventHandler<HTMLDivElement>;\n  children: ReactNode;\n  open: boolean;\n};\n\nconst Modal = ({ onClose, children, open }: ModalProps) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const escFunction = useCallback((e: KeyboardEvent) => {\n    if (e.key === \"Escape\") {\n      ref?.current?.click();\n    }\n  }, []);\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction);\n    };\n  }, [escFunction]);\n  return open ? (\n    <Backdrop onClick={onClose} ref={ref}>\n      <ModalDiv onClick={(e) => e.stopPropagation()}>{children}</ModalDiv>\n    </Backdrop>\n  ) : null;\n};\n\nexport default Modal;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst Span = styled.span`\n  font-weight: 600;\n  text-decoration: underline;\n  cursor: pointer;\n`;\n\ntype ReadMoreProps = {\n  text: string;\n  maxCharCount?: number;\n};\nconst ReadMore = ({ text = \"\", maxCharCount = 300 }: ReadMoreProps) => {\n  const [isTruncated, setIsTruncated] = useState(text.length > maxCharCount);\n\n  const resultString = isTruncated\n    ? text.slice(0, maxCharCount).padEnd(maxCharCount + 3, \".\")\n    : text;\n\n  const toggleIsTruncated = () => setIsTruncated(!isTruncated);\n\n  return (\n    <p>\n      {resultString}\n      {isTruncated ? <Span onClick={toggleIsTruncated}>Read More</Span> : null}\n    </p>\n  );\n};\n\nexport default ReadMore;\n","const Close = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M6 18L18 6M6 6l12 12\"\n    />\n  </svg>\n);\nexport default Close;\n","import styled from \"styled-components\";\nimport Close from \"../icons/Close\";\n\nconst Iframe = styled.iframe`\n  min-width: 90vw;\n  min-height: calc(90vw * (9 / 16));\n`;\n\nconst IframeHeader = styled.div`\n  width: 90vw;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  background: black;\n  padding: ${(props) => props.theme.size.sm};\n  color: white;\n\n  & > span {\n    cursor: pointer;\n  }\n\n  & > span > svg {\n    width: 3ch;\n  }\n  & > p {\n    font-weight: 600;\n  }\n`;\n\ntype YoutubeTrailerProps = {\n  name: string;\n  youtubeKey: string;\n  onClose: React.MouseEventHandler<HTMLSpanElement>;\n};\n\nconst YoutubeTrailer = ({ name, youtubeKey, onClose }: YoutubeTrailerProps) => (\n  <>\n    <IframeHeader>\n      <p>{name}</p>\n      <span onClick={onClose}>\n        <Close />\n      </span>\n    </IframeHeader>\n    <Iframe\n      title={name}\n      id=\"ytplayer\"\n      src={`https://www.youtube.com/embed/${youtubeKey}?&autoplay=1&mute=1`}\n      frameBorder=\"0\"\n      allowFullScreen\n    />\n  </>\n);\n\nexport default YoutubeTrailer;\n","import { useQuery } from \"react-query\";\nimport { queryClient } from \"../../App\";\nimport { fetcher } from \"../../services/api\";\nimport { Movie } from \"../../types/Movies\";\nimport { queryKeys } from \"../../utils/constants\";\nimport { getUrl, updateCacheData } from \"../../utils/utils\";\n\nfunction useMovie(id: number) {\n  return useQuery<Movie, number, Movie, [\"movie\", number]>(\n    [\"movie\", id],\n    () =>\n      fetcher(\n        getUrl(\n          `movie/${id}`,\n          \"&append_to_response=recommendations,videos,credits\"\n        )\n      ),\n    {\n      initialData: () => {\n        const queryData = queryClient.getQueryData<Movie[]>(queryKeys.movies);\n        const movie = queryData?.find((data) => data.id === id);\n        return movie;\n      },\n      staleTime: 0,\n      onSuccess: (data) => {\n        queryClient.setQueryData<Movie[\"credits\"][\"cast\"]>(\n          queryKeys.persons,\n          updateCacheData(data.credits.cast)\n        );\n      },\n    }\n  );\n}\n\nexport default useMovie;\n","import styled from \"styled-components\";\n\nconst Svg = styled.svg`\n  fill: #ff0000;\n`;\n\nconst Youtube = () => (\n  <Svg\n    role=\"img\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"3ch\"\n  >\n    <title>Youtube</title>\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"\n    />\n  </Svg>\n);\n\nexport default Youtube;\n","import { RouteComponentProps, useParams } from \"@reach/router\";\nimport { useCallback, useState } from \"react\";\nimport MediaListItem from \"../components/MediaListItem\";\nimport MediaScroller from \"../components/MediaScroller\";\nimport Modal from \"../components/Modal\";\nimport ReadMore from \"../components/ReadMore\";\nimport {\n  Figure,\n  Header,\n  Image,\n  ImageContainer,\n  MediaDescription,\n  MediaGridSection,\n  MediaScreenContainer,\n  SectionWithBGColor,\n  TrailerButton,\n} from \"../components/StyledElements\";\nimport YoutubeTrailer from \"../components/YoutubeTrailer\";\nimport useMovie from \"../hooks/data/useMovie\";\nimport Youtube from \"../icons/Youtube\";\nimport {\n  getBackgroundImageSrc,\n  getImageHeightAndWidth,\n  getImageSrc,\n  getReleaseDate,\n  minuteToTime,\n} from \"../utils/utils\";\n\ninterface MovieProps extends RouteComponentProps {\n  movieId?: string;\n}\n\nconst Movie = (props: MovieProps) => {\n  const { movieId } = useParams();\n  const { data, isFetching } = useMovie(parseInt(movieId));\n  const imageSrc = getImageSrc(data?.poster_path, \"poster\");\n  const [height, width] = getImageHeightAndWidth(\"2/3\", 20);\n  const bgImageSrc = data?.backdrop_path\n    ? getBackgroundImageSrc(data?.backdrop_path)\n    : undefined;\n\n  const actors = data?.credits?.cast || [];\n  const recommendations = data?.recommendations?.results || [];\n  const actorsList = actors\n    .filter(({ profile_path }) => profile_path)\n    .map(({ id, name, character, profile_path }) => ({\n      id,\n      title: name,\n      image: getImageSrc(profile_path, \"profile\"),\n      caption: character,\n    }));\n  const recommendationsList = recommendations\n    .slice(0, 12)\n    .map(({ id, title, backdrop_path, release_date }) => ({\n      id,\n      title,\n      image: getImageSrc(backdrop_path, \"backdrop\"),\n      caption: getReleaseDate(release_date),\n    }));\n  const mediaItemSize = 7;\n  const [, recommendationGridItemWidth] = getImageHeightAndWidth(\n    \"16/9\",\n    mediaItemSize\n  );\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const toggleIsModalOpen = useCallback(\n    () => setIsModalOpen(!isModalOpen),\n    [isModalOpen]\n  );\n  const trailer = data?.videos?.results?.find(({ type }) => type === \"Trailer\");\n  return (\n    <>\n      <MediaScreenContainer>\n        <ImageContainer img={bgImageSrc}>\n          <Figure>\n            <picture>\n              <Image\n                aspectRatio=\"2/3\"\n                inlineSize={width}\n                blockSize={height}\n                alt={data?.title}\n                loading=\"lazy\"\n                srcSet={imageSrc.srcset}\n                src={imageSrc.src}\n                showPointer={!!trailer}\n                onClick={trailer && toggleIsModalOpen}\n              />\n            </picture>\n            <figcaption>\n              {trailer ? (\n                <>\n                  <TrailerButton className=\"btn\" onClick={toggleIsModalOpen}>\n                    <Youtube /> Watch Trailer\n                  </TrailerButton>\n                  <Modal onClose={toggleIsModalOpen} open={isModalOpen}>\n                    <YoutubeTrailer\n                      youtubeKey={trailer.key}\n                      onClose={toggleIsModalOpen}\n                      name={data?.title || \"\"}\n                    />\n                  </Modal>\n                </>\n              ) : (\n                getReleaseDate(data?.release_date || Date.now().toString())\n              )}\n            </figcaption>\n          </Figure>\n          <MediaDescription>\n            <div className=\"mediaHeading\">\n              <h1>\n                {data?.title}\n                <span>\n                  {`(${new Date(\n                    data?.release_date || Date.now()\n                  ).getFullYear()})`}\n                </span>\n              </h1>\n              <div className=\"mediaFacts\">\n                <span>\n                  {getReleaseDate(data?.release_date || Date.now().toString())}\n                </span>\n                {data?.runtime ? (\n                  <span>{minuteToTime(data?.runtime)}</span>\n                ) : null}\n              </div>\n            </div>\n            {data?.tagline ? <h4>{data.tagline}</h4> : null}\n\n            <div className=\"mediaGenres\">\n              {data?.genres?.map((genre) => (\n                <span key={genre.id}>{genre.name}</span>\n              ))}\n            </div>\n            <div>\n              <h3>Status</h3>\n              <p>{data?.status}</p>\n            </div>\n\n            {data?.overview ? (\n              <div>\n                <h3>Overview</h3>\n                <ReadMore text={data?.overview} />\n              </div>\n            ) : null}\n          </MediaDescription>\n        </ImageContainer>\n      </MediaScreenContainer>\n      <SectionWithBGColor id=\"actors\">\n        <Header>\n          <h1>Actors</h1>\n        </Header>\n        <MediaScroller\n          list={actorsList}\n          ratio=\"2/3\"\n          loading={isFetching}\n          mediaType={\"person\"}\n        />\n      </SectionWithBGColor>\n\n      {recommendationsList.length ? (\n        <MediaGridSection\n          id=\"recommendations\"\n          gridItemSize={recommendationGridItemWidth}\n        >\n          <Header>\n            <h1>Recommendations</h1>\n          </Header>\n\n          <div className=\"mediaGrid\">\n            {recommendationsList.map((item, index) => (\n              <MediaListItem\n                key={item.id || index}\n                item={item}\n                ratio=\"16/9\"\n                mediaType={\"movie\"}\n                size={mediaItemSize}\n              />\n            ))}\n          </div>\n        </MediaGridSection>\n      ) : null}\n    </>\n  );\n};\n\nexport default Movie;\n","import { useEffect, useState } from \"react\";\n\nfunction useDebounce<T>(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedValue(value), delay || 500);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport default useDebounce;\n","const SearchIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n    />\n  </svg>\n);\nexport default SearchIcon;\n","import { useEffect, useMemo, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport useClickOutside from \"../hooks/useClickOutside\";\nimport useDebounce from \"../hooks/useDebounce\";\nimport ArrowDown from \"../icons/ArrowDown\";\nimport SearchIcon from \"../icons/SearchIcon\";\n\nconst DropDownContainer = styled.div`\n  width: calc(${(props) => props.theme.size.xxxl} * 6);\n`;\n\nconst SearchBarContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: ${(props) => props.theme.size.xs};\n  gap: ${(props) => props.theme.size.sm};\n  background-color: ${(props) => props.theme.colors.surface2};\n\n  input {\n    all: unset;\n    color: ${(props) => props.theme.colors.text2};\n  }\n`;\nconst SearchResults = styled.ul`\n  height: 200px;\n  overflow-y: scroll;\n  border: 1px solid ${(props) => props.theme.colors.surface3};\n  position: absolute;\n  width: calc(${(props) => props.theme.size.xxxl} * 6);\n  z-index: 1;\n  background-color: ${(props) => props.theme.colors.surface2};\n\n  & > li {\n    padding-inline: ${(props) => props.theme.size.xxxs};\n    font-size: ${(props) => props.theme.size.sm};\n\n    &:hover {\n      background-color: ${(props) => props.theme.colors.surface3};\n      cursor: pointer;\n    }\n  }\n\n  & > .selected {\n    background-color: ${(props) => props.theme.colors.surface2};\n  }\n`;\nconst DropDownTrigger = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: ${(props) => props.theme.size.xs};\n  gap: ${(props) => props.theme.size.sm};\n  background-color: ${(props) => props.theme.colors.surface2};\n  width: calc(${(props) => props.theme.size.xxxl} * 6);\n\n  cursor: pointer;\n  & > svg {\n    width: 2ch;\n  }\n`;\n\ntype DropDownProps = {\n  options: { id: number; label: string }[];\n  onSelect: (id: number | null) => void;\n};\n\nconst DropDown = (props: DropDownProps) => {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const debouceSearchValue = useDebounce(searchValue.toLocaleLowerCase(), 150);\n  const options = useMemo(\n    () => [{ id: -Infinity, label: \"None Selected\" }, ...props.options],\n    [props.options]\n  );\n  const [dropDownOptions, setDropDownOptions] = useState(options);\n  const [showDropDown, setShowDropDown] = useState(false);\n  const [selectedOption, setSelectedOption] = useState<\n    DropDownProps[\"options\"][number]\n  >(options[0]);\n\n  useEffect(() => {\n    const searchResults = options.filter(({ label }) =>\n      label.toLocaleLowerCase().match(debouceSearchValue)\n    );\n    setDropDownOptions(searchResults);\n  }, [debouceSearchValue, options]);\n\n  const searchResults = dropDownOptions.length ? dropDownOptions : options;\n\n  const dropDownRef = useRef<HTMLDivElement>(null);\n  useClickOutside(\n    dropDownRef,\n    () => showDropDown && setShowDropDown(!showDropDown)\n  );\n\n  return !showDropDown ? (\n    <DropDownTrigger onClick={() => setShowDropDown(!showDropDown)}>\n      <span>{selectedOption.label}</span>\n      <ArrowDown />\n    </DropDownTrigger>\n  ) : (\n    <DropDownContainer ref={dropDownRef}>\n      <SearchBarContainer>\n        <input\n          type=\"text\"\n          autoFocus={true}\n          value={searchValue}\n          onChange={(e) => setSearchValue(e.target.value)}\n        />\n        <SearchIcon />\n      </SearchBarContainer>\n      <SearchResults>\n        {searchResults.map((item) => (\n          <li\n            key={item.id}\n            className={selectedOption?.id === item.id ? \"selected\" : \"\"}\n            onClick={() => {\n              setShowDropDown(!showDropDown);\n              setSelectedOption(item);\n              props.onSelect(item.id === -Infinity ? null : item.id);\n            }}\n          >\n            {item.label}\n          </li>\n        ))}\n      </SearchResults>\n    </DropDownContainer>\n  );\n};\n\nexport default DropDown;\n","// https://api.themoviedb.org/3/discover/movie?api_key=f274625ee8526fcb3150182ed7668864&sort_by=primary_release_date.desc&with_original_language=te&primary_release_date.lte=2021-12-22&primary_release_date.gte=2020-12-22\nimport { useInfiniteQuery } from \"react-query\";\nimport { fetcher } from \"../../services/api\";\nimport { MediaTypeExcludePerson, StatusType } from \"../../types/common\";\nimport { DiscoverMovies } from \"../../types/Movies\";\nimport { DiscoverTv } from \"../../types/Tv\";\nimport { getUrl } from \"../../utils/utils\";\n\ntype DiscoverContent<T> = T extends \"movie\"\n  ? DiscoverMovies\n  : T extends \"tv\"\n  ? DiscoverTv\n  : never;\n\nfunction useDiscoverContent<T extends MediaTypeExcludePerson>(\n  type: T,\n  status: \"latest\" | \"upcoming\",\n  language: string,\n  genre: number | undefined\n) {\n  return useInfiniteQuery<\n    DiscoverContent<T>,\n    string,\n    DiscoverContent<T>,\n    [\"discover\", MediaTypeExcludePerson, StatusType, string, number | undefined]\n  >(\n    [\"discover\", type, status, language, genre],\n    ({ pageParam = 1 }) => {\n      const genreQuery = genre ? `&with_genres=${genre}` : \"\";\n      const date = new Date();\n      const day = String(date.getDate()).padStart(2, \"0\");\n      const mon = String(date.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n      const year = date.getFullYear();\n\n      const today = [year, mon, day].join(\"-\");\n      const todayPlusYear = [year + 3, mon, day].join(\"-\");\n      const todayMinusYear = [year - 3, mon, day].join(\"-\");\n\n      const timeQuery = `&primary_release_date.lte=${\n        status === \"latest\" ? today : todayPlusYear\n      }&primary_release_date.gte=${\n        status === \"latest\" ? todayMinusYear : today\n      }&sort_by=primary_release_date.${status === \"latest\" ? \"desc\" : \"asc\"}`;\n\n      return fetcher(\n        getUrl(\n          `discover/${type}`,\n          `&page=${pageParam}&with_original_language=${language}${genreQuery}${timeQuery}`\n        )\n      );\n    },\n    {\n      getNextPageParam: (lastPageData) => {\n        if (lastPageData.total_pages === 0) return undefined;\n        return lastPageData.total_pages === lastPageData.page\n          ? undefined\n          : lastPageData.page + 1;\n      },\n    }\n  );\n}\n\nexport default useDiscoverContent;\n","import { useQuery } from \"react-query\";\nimport { fetcher } from \"../../services/api\";\nimport { getUrl } from \"../../utils/utils\";\n\ninterface Language {\n  iso_639_1: string;\n  english_name: string;\n  name: string;\n}\nconst useLanguage = () =>\n  useQuery<Language[], number, Language[], \"languages\">(\"languages\", () =>\n    fetcher(getUrl(\"configuration/languages\"))\n  );\n\nexport default useLanguage;\n","import { RouteComponentProps } from \"@reach/router\";\nimport { memo, useCallback, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../components/Button\";\nimport DropDown from \"../components/DropDown\";\nimport MediaListItem, { ListItemType } from \"../components/MediaListItem\";\nimport {\n  ButtonContainer,\n  Header,\n  MediaGridSection,\n} from \"../components/StyledElements\";\nimport useDiscoverContent from \"../hooks/data/useDiscoverContent\";\nimport useGenres from \"../hooks/data/useGenres\";\nimport useLanguage from \"../hooks/data/useLanguage\";\nimport useInView from \"../hooks/useInView\";\nimport { StatusType } from \"../types/common\";\nimport { DiscoverMovies } from \"../types/Movies\";\nimport {\n  getImageHeightAndWidth,\n  getImageSrc,\n  getReleaseDate,\n} from \"../utils/utils\";\n\nconst DropDownContainer = styled.div`\n  width: calc(${(props) => props.theme.size.xxxl} * 7);\n  padding: ${(props) => props.theme.size.xs};\n\n  & > span {\n    font-weight: 600;\n    color: ${(props) => props.theme.colors.brand};\n  }\n`;\n\nconst Filters = styled.div`\n  display: flex;\n  padding: ${(props) => props.theme.size.xs};\n`;\nconst mediaItemSize = 10;\n\nconst Movies = (props: RouteComponentProps) => {\n  const { data } = useGenres();\n  const { movieGenres = [] } = data || {};\n  const { data: languages = [] } = useLanguage();\n\n  const [selectedLanguage, setSelectedLanguage] = useState(\"en\");\n  const [selectedGenre, setSelectedGenre] = useState<number>();\n  const [status, setStatus] = useState<StatusType>(\"latest\");\n\n  const languageOptions = languages.map((item, index) => ({\n    id: index,\n    label: item.english_name,\n  }));\n  const genreOptions = movieGenres.map(({ name }, index) => ({\n    id: index,\n    label: name,\n  }));\n\n  const handleButton = useCallback(() => {\n    setStatus(status === \"latest\" ? \"upcoming\" : \"latest\");\n  }, [status]);\n  const { ref, inView } = useInView();\n\n  const {\n    data: movies,\n    isFetching,\n    hasNextPage,\n    fetchNextPage,\n  } = useDiscoverContent(\"movie\", status, selectedLanguage, selectedGenre);\n\n  useEffect(() => {\n    if (inView && hasNextPage && !isFetching) {\n      fetchNextPage();\n    }\n  }, [fetchNextPage, hasNextPage, inView, isFetching]);\n\n  const { pages = [] } = movies || {};\n\n  const [, recommendationGridItemWidth] = getImageHeightAndWidth(\n    \"2/3\",\n    mediaItemSize\n  );\n\n  return (\n    <>\n      <MediaGridSection id=\"movies\" gridItemSize={recommendationGridItemWidth}>\n        <Header>\n          <h1>Movies</h1>\n          <ButtonContainer>\n            <Button\n              primary={status === \"latest\"}\n              disabled={status === \"latest\"}\n              onClick={handleButton}\n            >\n              Latest\n            </Button>\n            <Button\n              primary={status === \"upcoming\"}\n              disabled={status === \"upcoming\"}\n              onClick={handleButton}\n            >\n              Upcoming\n            </Button>\n          </ButtonContainer>\n        </Header>\n        <Filters>\n          <DropDownContainer>\n            <span>Select Language</span>\n            <DropDown\n              options={languageOptions}\n              onSelect={(id) => {\n                if (id) setSelectedLanguage(languages[id].iso_639_1);\n              }}\n            />\n          </DropDownContainer>\n\n          <DropDownContainer>\n            <span>Select Genre</span>\n            <DropDown\n              options={genreOptions}\n              onSelect={(id) => {\n                if (id) setSelectedGenre(movieGenres[id].id);\n              }}\n            />\n          </DropDownContainer>\n        </Filters>\n        <div className=\"mediaGrid\">\n          {pages.map((page, index) => (\n            <MoviePageData page={page} key={index} />\n          ))}\n          {isFetching\n            ? (Array(10).fill({ image: {} }) as ListItemType[]).map(\n                (item, index) => (\n                  <MediaListItem\n                    key={item.id || index}\n                    item={item}\n                    ratio=\"2/3\"\n                    mediaType={\"movie\"}\n                    size={mediaItemSize}\n                  />\n                )\n              )\n            : null}\n        </div>\n        <button style={{ visibility: \"hidden\" }} ref={ref}></button>\n      </MediaGridSection>\n    </>\n  );\n};\n\nconst MoviePageData = memo(({ page }: { page: DiscoverMovies }) => {\n  const { results } = page;\n  if (results.length === 0) {\n    return <h3>No Results Found </h3>;\n  }\n  const items = results.map((item) => ({\n    id: item.id,\n    image: getImageSrc(item.poster_path, \"poster\"),\n    title: item.title,\n    caption: getReleaseDate(item.release_date),\n  }));\n  return (\n    <>\n      {items.map((item, index) => (\n        <MediaListItem\n          key={item.id || index}\n          item={item}\n          ratio=\"2/3\"\n          mediaType={\"movie\"}\n          size={mediaItemSize}\n        />\n      ))}\n    </>\n  );\n});\n\nexport default Movies;\n","const Moon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\n    />\n  </svg>\n);\n\nexport default Moon;\n","const MovieDB = () => (\n  <svg\n    role=\"img\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"currentColor\"\n    width=\"3ch\"\n  >\n    <title>The Movie Database</title>\n    <path d=\"M6.62 12a2.291 2.291 0 0 1 2.292-2.295h-.013A2.291 2.291 0 0 1 11.189 12a2.291 2.291 0 0 1-2.29 2.291h.013A2.291 2.291 0 0 1 6.62 12zm10.72-4.062h4.266a2.291 2.291 0 0 0 2.29-2.291 2.291 2.291 0 0 0-2.29-2.296H17.34a2.291 2.291 0 0 0-2.291 2.296 2.291 2.291 0 0 0 2.29 2.29zM2.688 20.645h8.285a2.291 2.291 0 0 0 2.291-2.292 2.291 2.291 0 0 0-2.29-2.295H2.687a2.291 2.291 0 0 0-2.291 2.295 2.291 2.291 0 0 0 2.29 2.292zm10.881-6.354h.81l1.894-4.586H15.19l-1.154 3.008h-.013l-1.135-3.008h-1.154zm4.208 0h1.011V9.705h-1.011zm2.878 0h3.235v-.93h-2.223v-.933h1.99v-.934h-1.99v-.855h2.107v-.934h-3.112zM1.31 7.941h1.01V4.247h1.31v-.895H0v.895h1.31zm3.747 0h1.011V5.959h1.958v1.984h1.011v-4.59h-1.01v1.711H6.061V3.351H5.057zm5.348 0h3.242v-.933H11.41v-.934h1.99v-.933h-1.99v-.856h2.107v-.934h-3.112zM.162 14.296h1.005v-3.52h.013l1.167 3.52h.765l1.206-3.52h.013v3.52h1.011v-4.59H3.82L2.755 12.7h-.013L1.686 9.705H.156zm14.534 6.353h1.641a3.188 3.188 0 0 0 .98-.149 2.531 2.531 0 0 0 .824-.437 2.123 2.123 0 0 0 .567-.713 2.193 2.193 0 0 0 .223-.983 2.399 2.399 0 0 0-.218-1.07 1.958 1.958 0 0 0-.586-.716 2.405 2.405 0 0 0-.873-.392 4.349 4.349 0 0 0-1.046-.13h-1.519zm1.013-3.656h.596a2.26 2.26 0 0 1 .606.08 1.514 1.514 0 0 1 .503.244 1.167 1.167 0 0 1 .34.412 1.28 1.28 0 0 1 .13.587 1.546 1.546 0 0 1-.13.658 1.127 1.127 0 0 1-.347.433 1.41 1.41 0 0 1-.518.238 2.797 2.797 0 0 1-.649.07h-.538zm4.686 3.656h1.88a2.997 2.997 0 0 0 .613-.064 1.735 1.735 0 0 0 .554-.214 1.221 1.221 0 0 0 .402-.39 1.105 1.105 0 0 0 .155-.606 1.188 1.188 0 0 0-.071-.415 1.01 1.01 0 0 0-.204-.34 1.087 1.087 0 0 0-.317-.24 1.297 1.297 0 0 0-.413-.13v-.012a1.203 1.203 0 0 0 .575-.366.962.962 0 0 0 .216-.648 1.081 1.081 0 0 0-.149-.603 1.022 1.022 0 0 0-.389-.354 1.673 1.673 0 0 0-.54-.169 4.463 4.463 0 0 0-.6-.041h-1.712zm1.011-3.734h.687a1.4 1.4 0 0 1 .24.022.748.748 0 0 1 .22.075.432.432 0 0 1 .16.147.418.418 0 0 1 .061.236.47.47 0 0 1-.055.233.433.433 0 0 1-.146.156.62.62 0 0 1-.204.084 1.058 1.058 0 0 1-.23.026h-.745zm0 1.835h.765a1.96 1.96 0 0 1 .266.02 1.015 1.015 0 0 1 .26.07.519.519 0 0 1 .204.152.406.406 0 0 1 .08.26.481.481 0 0 1-.06.253.519.519 0 0 1-.16.168.62.62 0 0 1-.217.09 1.155 1.155 0 0 1-.237.027H21.4z\" />\n  </svg>\n);\n\nexport default MovieDB;\n","const Sun = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"\n    />\n  </svg>\n);\n\nexport default Sun;\n","const User = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n    />\n  </svg>\n);\n\nexport default User;\n","import { Link } from \"@reach/router\";\nimport styled from \"styled-components\";\nimport { appContext } from \"../AppContext\";\nimport Button from \"../components/Button\";\nimport Moon from \"../icons/Moon\";\nimport MovieDB from \"../icons/MovieDB\";\nimport SearchIcon from \"../icons/SearchIcon\";\nimport Sun from \"../icons/Sun\";\nimport User from \"../icons/User\";\n\nconst Nav = styled.nav`\n  display: flex;\n  justify-content: space-between;\n  padding-inline: ${(props) => props.theme.size.lg};\n  padding-block: ${(props) => props.theme.size.sm};\n  background-color: ${(props) => props.theme.colors.surface2};\n  height: calc(${(props) => props.theme.size.xxl} * 2);\n\n  .nav-logos {\n    display: flex;\n    gap: ${(props) => props.theme.size.md};\n  }\n\n  .nav-links {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    a {\n      display: flex;\n      align-items: center;\n      gap: ${(props) => props.theme.size.xxxs};\n      font-size: ${(props) => props.theme.size.lg};\n      font-weight: 600;\n\n      span {\n        color: ${(props) => props.theme.colors.brand};\n      }\n\n      @media ${({ theme }) => theme.mediaQueries.below768} {\n        span {\n          display: none;\n        }\n        svg {\n          color: ${(props) => props.theme.colors.brand};\n        }\n      }\n    }\n\n    div {\n      display: flex;\n      padding-inline: ${(props) => props.theme.size.lg};\n    }\n  }\n\n  .nav-items {\n    display: flex;\n    gap: ${(props) => props.theme.size.xs};\n\n    & > a {\n      padding: ${(props) => props.theme.size.xxs};\n      font-size: ${(props) => props.theme.size.md};\n      border-radius: 1ex;\n\n      &:hover {\n        cursor: pointer;\n        color: ${(props) => props.theme.colors.text2};\n        background-color: ${(props) => props.theme.colors.surface1};\n      }\n    }\n  }\n`;\n\nconst StyledButton = styled(Button)`\n  all: unset;\n  place-content: center;\n  display: flex;\n  place-items: center;\n  padding: ${(props) => props.theme.size.xxs};\n  border-radius: 1ex;\n  &:hover {\n    cursor: pointer;\n    color: ${(props) => props.theme.colors.text2};\n    background-color: ${(props) => props.theme.colors.surface1};\n  }\n`;\n\nconst NavBar = () => {\n  const { isDarkMode, toggleDarkMode, dispatch, displaySearch } = appContext();\n\n  return (\n    <Nav>\n      <div className=\"nav-links\">\n        <Link to={process.env.PUBLIC_URL}>\n          <MovieDB />\n          <span>MovieHub</span>\n        </Link>\n        <div className=\"nav-items\">\n          <Link to={`${process.env.PUBLIC_URL}/movie`}>Movie</Link>\n          <Link to={`${process.env.PUBLIC_URL}/tv`}>Tv</Link>\n        </div>\n      </div>\n      <div className=\"nav-logos\">\n        <StyledButton\n          onClick={() =>\n            dispatch({ type: \"DISPLAY_SEARCH\", payload: !displaySearch })\n          }\n        >\n          <SearchIcon />\n        </StyledButton>\n        <StyledButton onClick={toggleDarkMode}>\n          {isDarkMode ? <Sun /> : <Moon />}\n        </StyledButton>\n\n        <StyledButton onClick={console.log}>\n          <User />\n        </StyledButton>\n      </div>\n    </Nav>\n  );\n};\n\nexport default NavBar;\n","import { useQuery } from \"react-query\";\nimport { queryClient } from \"../../App\";\nimport { fetcher } from \"../../services/api\";\nimport { Person } from \"../../types/Person\";\nimport { queryKeys } from \"../../utils/constants\";\nimport { getUrl } from \"../../utils/utils\";\n\nfunction usePerson(id: number) {\n  return useQuery<Person, number, Person, [\"person\", number]>(\n    [\"person\", id],\n    () =>\n      fetcher(\n        getUrl(\n          `person/${id}`,\n          \"&append_to_response=combined_credits,external_ids\"\n        )\n      ),\n    {\n      initialData: () => {\n        const queryData = queryClient.getQueryData<Person[]>(queryKeys.persons);\n        const person = queryData?.find((data) => data.id === id);\n        return person;\n      },\n      staleTime: 0,\n    }\n  );\n}\n\nexport default usePerson;\n","import styled from \"styled-components\";\n\nconst Svg = styled.svg`\n  fill: ${(props) => props.theme.colors.text1};\n`;\n\nconst Facebook = () => (\n  <Svg\n    role=\"img\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"3ch\"\n  >\n    <title>Facebook</title>\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"\n    />\n  </Svg>\n);\nexport default Facebook;\n","import styled from \"styled-components\";\n\nconst Svg = styled.svg`\n  fill: ${(props) => props.theme.colors.text1};\n`;\n\nconst Instagram = () => (\n  <Svg\n    role=\"img\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"3ch\"\n  >\n    <title>Instagram</title>\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z\"\n    />\n  </Svg>\n);\nexport default Instagram;\n","import styled from \"styled-components\";\n\nconst Svg = styled.svg`\n  fill: ${(props) => props.theme.colors.text1};\n`;\n\nconst Twitter = () => (\n  <Svg\n    role=\"img\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"3ch\"\n  >\n    <title>Twitter</title>\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z\"\n    />\n  </Svg>\n);\nexport default Twitter;\n","import { RouteComponentProps, useParams } from \"@reach/router\";\nimport MediaScroller from \"../components/MediaScroller\";\nimport ReadMore from \"../components/ReadMore\";\nimport {\n  Figure,\n  Header,\n  Image,\n  ImageContainer,\n  MediaDescription,\n  MediaScreenContainer,\n  SectionWithBGColor,\n} from \"../components/StyledElements\";\nimport usePerson from \"../hooks/data/usePerson\";\nimport Facebook from \"../icons/Facebook\";\nimport Instagram from \"../icons/Instagram\";\nimport Twitter from \"../icons/Twitter\";\nimport {\n  calculate_age,\n  getImageHeightAndWidth,\n  getImageSrc,\n  getReleaseDate,\n} from \"../utils/utils\";\n\ninterface PersonProps extends RouteComponentProps {\n  tvId?: string;\n}\n\nconst Person = (props: PersonProps) => {\n  const { personId } = useParams();\n  const { data, isFetching } = usePerson(parseInt(personId));\n  const imageSrc = getImageSrc(data?.profile_path, \"profile\");\n  const [height, width] = getImageHeightAndWidth(\"2/3\", 20);\n\n  const credits = data?.combined_credits?.cast || [];\n  const movies = credits\n    .filter(({ media_type }) => media_type === \"movie\")\n    .map(({ id, title = \"\", poster_path, release_date }) => ({\n      id,\n      title,\n      image: getImageSrc(poster_path, \"poster\"),\n      caption: release_date ? getReleaseDate(release_date) : \"\",\n    }));\n\n  const tvs = credits\n    .filter(({ media_type }) => media_type === \"tv\")\n    .map(({ id, name = \"\", backdrop_path, first_air_date }) => ({\n      id,\n      title: name,\n      image: getImageSrc(backdrop_path, \"backdrop\"),\n      caption: first_air_date ? getReleaseDate(first_air_date) : \"\",\n    }));\n\n  return (\n    <>\n      <MediaScreenContainer>\n        <ImageContainer>\n          <Figure>\n            <picture>\n              <Image\n                aspectRatio=\"2/3\"\n                inlineSize={width}\n                blockSize={height}\n                alt={data?.name}\n                loading=\"lazy\"\n                srcSet={imageSrc.srcset}\n                src={imageSrc.src}\n              />\n            </picture>\n            <figcaption>\n              {getReleaseDate(data?.birthday || Date.now().toString())}\n            </figcaption>\n          </Figure>\n\n          <MediaDescription>\n            <div className=\"mediaHeading\">\n              <h1>{data?.name}</h1>\n              <div className=\"mediaFacts\">\n                {data?.birthday ? (\n                  <span>\n                    {`${getReleaseDate(data?.birthday)} (${calculate_age(\n                      data?.birthday\n                    )} years old)`}\n                  </span>\n                ) : null}\n              </div>\n            </div>\n\n            {data?.place_of_birth ? (\n              <div>\n                <h3>Place of Birth</h3>\n                <p>{data?.place_of_birth}</p>\n              </div>\n            ) : null}\n\n            {data?.external_ids ? (\n              <div className=\"mediaSocial\">\n                {data?.external_ids.twitter_id ? (\n                  <a\n                    href={`https://twitter.com/${data?.external_ids.twitter_id}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <Twitter />\n                  </a>\n                ) : null}\n\n                {data?.external_ids.instagram_id ? (\n                  <a\n                    href={`https://www.instagram.com/${data?.external_ids.instagram_id}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <Instagram />\n                  </a>\n                ) : null}\n\n                {data?.external_ids.facebook_id ? (\n                  <a\n                    href={`https://www.facebook.com/${data?.external_ids.facebook_id}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <Facebook />\n                  </a>\n                ) : null}\n              </div>\n            ) : null}\n\n            {data?.biography ? (\n              <div>\n                <h3>Biography</h3>\n                <ReadMore text={data?.biography} />\n              </div>\n            ) : null}\n          </MediaDescription>\n        </ImageContainer>\n      </MediaScreenContainer>\n      {movies.length ? (\n        <SectionWithBGColor id=\"Movies\">\n          <Header>\n            <h1>Acted in Movies</h1>\n          </Header>\n          <MediaScroller\n            list={movies}\n            ratio=\"2/3\"\n            loading={isFetching}\n            mediaType={\"movie\"}\n          />\n        </SectionWithBGColor>\n      ) : null}\n      {tvs.length ? (\n        <SectionWithBGColor id=\"actors\">\n          <Header>\n            <h1>Acted in Tv Shows</h1>\n          </Header>\n          <MediaScroller\n            list={tvs}\n            ratio=\"16/9\"\n            loading={isFetching}\n            mediaType={\"tv\"}\n          />\n        </SectionWithBGColor>\n      ) : null}\n    </>\n  );\n};\nexport default Person;\n","import { useQuery } from \"react-query\";\nimport { fetcher } from \"../../services/api\";\nimport { SearchResult } from \"../../types/Search\";\nimport { getUrl } from \"../../utils/utils\";\n\nconst useSearch = (query: string) =>\n  useQuery<SearchResult, number, SearchResult[\"results\"], [\"search\", string]>(\n    [\"search\", query],\n    () => fetcher(getUrl(\"search/multi\", `&query=${query}`)),\n    { enabled: !!query, select: (data) => data.results }\n  );\n\nexport default useSearch;\n","const Camera = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n    />\n  </svg>\n);\nexport default Camera;\n","const MovieIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z\"\n    />\n  </svg>\n);\n\nexport default MovieIcon;\n","const PersonIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n    />\n  </svg>\n);\n\nexport default PersonIcon;\n","const TrendingIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className=\"h-6 w-6\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    width=\"3ch\"\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"\n    />\n  </svg>\n);\n\nexport default TrendingIcon;\n","import { navigate } from \"@reach/router\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { appContext } from \"../AppContext\";\nimport Button from \"../components/Button\";\nimport useSearch from \"../hooks/data/useSearch\";\nimport useTrending, { TrendingAll } from \"../hooks/data/useTrending\";\nimport useDebounce from \"../hooks/useDebounce\";\nimport Camera from \"../icons/Camera\";\nimport Close from \"../icons/Close\";\nimport MovieIcon from \"../icons/MovieIcon\";\nimport PersonIcon from \"../icons/PersonIcon\";\nimport SearchIcon from \"../icons/SearchIcon\";\nimport TrendingIcon from \"../icons/TrendingIcon\";\nimport { SearchResult } from \"../types/Search\";\nimport { getImageSrc } from \"../utils/utils\";\n\nconst SearchBarContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding-inline: ${(props) => props.theme.size.lg};\n  padding-block: ${(props) => props.theme.size.sm};\n  gap: ${(props) => props.theme.size.sm};\n  background-color: ${(props) => props.theme.colors.surface2};\n  height: calc(${(props) => props.theme.size.xxl} * 2);\n  width: 100%;\n  z-index: 2;\n\n  position: fixed;\n  top: 0;\n\n  input {\n    all: unset;\n    font-weight: 600;\n    width: clamp(50%, calc(${(props) => props.theme.size.xxxl} * 10), 85%);\n  }\n\n  & > svg:nth-of-type(1) {\n    width: 2ch;\n  }\n`;\n\nconst StyledButton = styled(Button)`\n  all: unset;\n  place-content: center;\n  display: flex;\n  place-items: center;\n  padding: ${(props) => props.theme.size.xs};\n  border-radius: 1ex;\n\n  color: ${(props) => props.theme.colors.text1};\n  background-color: ${(props) => props.theme.colors.surface3};\n\n  svg {\n    width: 3ch;\n  }\n  &:hover {\n    cursor: pointer;\n\n    color: ${(props) => props.theme.colors.text2};\n    background-color: ${(props) => props.theme.colors.surface1};\n  }\n`;\n\nconst Backdrop = styled.div`\n  position: fixed;\n  top: calc(${(props) => props.theme.size.xxl} * 2);\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 2;\n\n  background: ${(props) => props.theme.getColorWithOpacity(\"surface4\", 0.96)};\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n`;\n\nconst SearchResultContainer = styled.div`\n  margin-block-start: ${(props) => props.theme.size.md};\n  width: clamp(55%, calc(${(props) => props.theme.size.xxxl} * 10), 90%);\n  background-color: ${(props) => props.theme.colors.surface2};\n  height: 70%;\n  border-radius: 1ex;\n\n  & > .search-header {\n    display: flex;\n    gap: ${(props) => props.theme.size.sm};\n    align-items: center;\n\n    background-color: ${(props) => props.theme.colors.surface1};\n    padding: ${(props) => props.theme.size.sm};\n    width: 100%;\n    border-top-right-radius: 1ex;\n    border-top-left-radius: 1ex;\n  }\n\n  & > .search-results {\n    padding: ${(props) => props.theme.size.sm};\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: flex-start;\n    overflow-y: scroll;\n    height: 90%;\n  }\n`;\n\nconst SearchResultItem = styled.div`\n  padding: ${(props) => props.theme.size.xxxs};\n  width: 100%;\n  display: flex;\n  align-items: center;\n  gap: ${(props) => props.theme.size.sm};\n  cursor: pointer;\n\n  & > svg {\n    width: 5ch;\n    & > path {\n      stroke-width: 1;\n    }\n  }\n\n  & > img {\n    height: 8ch;\n    object-fit: cover;\n  }\n\n  .search-item-details {\n    line-height: 1.5rem;\n    & > p {\n      font-weight: 600;\n    }\n    & > span {\n      font-size: ${(props) => props.theme.size.sm};\n      color: ${(props) => props.theme.colors.text2};\n    }\n  }\n\n  &:hover {\n    background-color: ${(props) => props.theme.colors.surface3};\n  }\n`;\n\nconst Search = () => {\n  const { displaySearch, dispatch } = appContext();\n  const [searchValue, setSearchValue] = useState(\"\");\n  const debouceSearchValue = useDebounce(searchValue, 150);\n  const { data = [] } = useSearch(debouceSearchValue);\n  const { data: trendingData = [] } = useTrending(\"all\");\n\n  // Showing Trending if no search Query\n  const searchItems = debouceSearchValue ? data : trendingData;\n\n  const closeSearch = useCallback(\n    () => dispatch({ type: \"DISPLAY_SEARCH\", payload: !displaySearch }),\n    [dispatch, displaySearch]\n  );\n\n  const ref = useRef<HTMLDivElement>(null);\n  const escFunction = useCallback((e: KeyboardEvent) => {\n    if (e.key === \"Escape\") {\n      ref?.current?.click();\n    }\n  }, []);\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction);\n    return () => {\n      document.removeEventListener(\"keydown\", escFunction);\n    };\n  }, [escFunction]);\n\n  return (\n    <>\n      <SearchBarContainer>\n        <SearchIcon />\n        <input\n          type=\"text\"\n          autoFocus={true}\n          value={searchValue}\n          onChange={(e) => setSearchValue(e.target.value)}\n          placeholder=\"Search Movies, Tv shows, People\"\n        />\n        <StyledButton onClick={closeSearch}>\n          <Close />\n        </StyledButton>\n      </SearchBarContainer>\n      <Backdrop onClick={closeSearch} ref={ref}>\n        <SearchResultContainer onClick={(e) => e.stopPropagation()}>\n          <div className=\"search-header\">\n            {debouceSearchValue ? <SearchIcon /> : <TrendingIcon />}\n            <h3>{debouceSearchValue ? \"Search Results\" : \"Trending\"}</h3>\n          </div>\n          <div className=\"search-results\">\n            {searchItems.length === 0 ? <p>No Results Found </p> : null}\n            {searchItems?.map((item) => (\n              <SearchResultItem\n                key={`${item.media_type}-${item.id}`}\n                onClick={() => {\n                  closeSearch();\n                  navigate(\n                    `${process.env.PUBLIC_URL}/${item.media_type}/${item.id}`\n                  );\n                }}\n              >\n                {renderSearchItemImage(item)}\n                <div className=\"search-item-details\">\n                  <p>{item.media_type === \"movie\" ? item.title : item.name}</p>\n                  <span>\n                    {`in ${\n                      item.media_type === \"movie\"\n                        ? \"Movies\"\n                        : item.media_type === \"tv\"\n                        ? \"Tv Shows\"\n                        : \"People\"\n                    }`}\n                  </span>\n                </div>\n              </SearchResultItem>\n            ))}\n          </div>\n        </SearchResultContainer>\n      </Backdrop>\n    </>\n  );\n};\n\nexport default Search;\n\nfunction renderSearchItemImage(\n  item: SearchResult[\"results\"][number] | TrendingAll[\"results\"][number]\n) {\n  if (item.media_type === \"movie\") {\n    const img = getImageSrc(item.poster_path, \"poster\");\n    return item.poster_path ? (\n      <img src={img.src} alt={item.title} srcSet={img.srcset}></img>\n    ) : (\n      <MovieIcon />\n    );\n  } else if (item.media_type === \"tv\") {\n    const img = getImageSrc(item.poster_path, \"poster\");\n    return item.poster_path ? (\n      <img src={img.src} alt={item.name} srcSet={img.srcset}></img>\n    ) : (\n      <Camera />\n    );\n  }\n  const img = getImageSrc(item.profile_path, \"profile\");\n  return item.profile_path ? (\n    <img src={img.src} alt={item.name} srcSet={img.srcset}></img>\n  ) : (\n    <PersonIcon />\n  );\n}\n","import { useQuery } from \"react-query\";\nimport { queryClient } from \"../../App\";\nimport { fetcher } from \"../../services/api\";\nimport { Tv } from \"../../types/Tv\";\nimport { queryKeys } from \"../../utils/constants\";\nimport { getUrl, updateCacheData } from \"../../utils/utils\";\n\nfunction useTv(id: number) {\n  return useQuery<Tv, number, Tv, [\"tv\", number]>(\n    [\"tv\", id],\n    () =>\n      fetcher(\n        getUrl(`tv/${id}`, \"&append_to_response=recommendations,videos,credits\")\n      ),\n    {\n      initialData: () => {\n        const queryData = queryClient.getQueryData<Tv[]>(queryKeys.tvs);\n        const tv = queryData?.find((data) => data.id === id);\n        return tv;\n      },\n      staleTime: 0,\n      onSuccess: (data) => {\n        queryClient.setQueryData<Tv[\"credits\"][\"cast\"]>(\n          queryKeys.persons,\n          updateCacheData(data.credits.cast)\n        );\n      },\n    }\n  );\n}\n\nexport default useTv;\n","import { RouteComponentProps, useParams } from \"@reach/router\";\nimport { useCallback, useState } from \"react\";\nimport MediaListItem from \"../components/MediaListItem\";\nimport MediaScroller from \"../components/MediaScroller\";\nimport Modal from \"../components/Modal\";\nimport ReadMore from \"../components/ReadMore\";\nimport {\n  Figure,\n  Header,\n  Image,\n  ImageContainer,\n  MediaDescription,\n  MediaGridSection,\n  MediaScreenContainer,\n  SectionWithBGColor,\n  TrailerButton,\n} from \"../components/StyledElements\";\nimport YoutubeTrailer from \"../components/YoutubeTrailer\";\nimport useTv from \"../hooks/data/useTv\";\nimport Youtube from \"../icons/Youtube\";\nimport {\n  getBackgroundImageSrc,\n  getImageHeightAndWidth,\n  getImageSrc,\n  getReleaseDate,\n} from \"../utils/utils\";\n\ninterface TvProps extends RouteComponentProps {\n  tvId?: string;\n}\n\nconst Tv = (props: TvProps) => {\n  const { tvId } = useParams();\n  const { data, isFetching } = useTv(parseInt(tvId));\n  const imageSrc = getImageSrc(data?.poster_path, \"poster\");\n  const [height, width] = getImageHeightAndWidth(\"2/3\", 20);\n  const bgImageSrc = data?.backdrop_path\n    ? getBackgroundImageSrc(data?.backdrop_path)\n    : undefined;\n\n  const actors = data?.credits?.cast || [];\n  const recommendations = data?.recommendations?.results || [];\n  const actorsList = actors\n    .filter(({ profile_path }) => profile_path)\n    .map(({ id, name, character, profile_path }) => ({\n      id,\n      title: name,\n      image: getImageSrc(profile_path, \"profile\"),\n      caption: character,\n    }));\n  const recommendationsList = recommendations\n    .slice(0, 12)\n    .map(({ id, name, backdrop_path, first_air_date }) => ({\n      id,\n      title: name,\n      image: getImageSrc(backdrop_path, \"backdrop\"),\n      caption: getReleaseDate(first_air_date),\n    }));\n  const [, recommendationGridItemWidth] = getImageHeightAndWidth(\"16/9\", 7);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const toggleIsModalOpen = useCallback(\n    () => setIsModalOpen(!isModalOpen),\n    [isModalOpen]\n  );\n  const trailer = data?.videos?.results?.find(({ type }) => type === \"Trailer\");\n\n  return (\n    <>\n      <MediaScreenContainer>\n        <ImageContainer img={bgImageSrc}>\n          <Figure>\n            <picture>\n              <Image\n                aspectRatio=\"2/3\"\n                inlineSize={width}\n                blockSize={height}\n                alt={data?.name}\n                loading=\"lazy\"\n                srcSet={imageSrc.srcset}\n                src={imageSrc.src}\n                showPointer={!!trailer}\n                onClick={trailer && toggleIsModalOpen}\n              />\n            </picture>\n            <figcaption>\n              {trailer ? (\n                <>\n                  <TrailerButton className=\"btn\" onClick={toggleIsModalOpen}>\n                    <Youtube /> Watch Trailer\n                  </TrailerButton>\n                  <Modal onClose={toggleIsModalOpen} open={isModalOpen}>\n                    <YoutubeTrailer\n                      youtubeKey={trailer.key}\n                      onClose={toggleIsModalOpen}\n                      name={data?.name || \"\"}\n                    />\n                  </Modal>\n                </>\n              ) : (\n                getReleaseDate(data?.first_air_date || Date.now().toString())\n              )}\n            </figcaption>\n          </Figure>\n\n          <MediaDescription>\n            <div className=\"mediaHeading\">\n              <h1>\n                {data?.name}\n                <span>\n                  {`(${new Date(\n                    data?.first_air_date || Date.now()\n                  ).getFullYear()})`}\n                </span>\n              </h1>\n              <div className=\"mediaFacts\">\n                <span>\n                  {getReleaseDate(\n                    data?.first_air_date || Date.now().toString()\n                  )}\n                </span>\n              </div>\n            </div>\n            {data?.tagline ? <h4>{data.tagline}</h4> : null}\n\n            <div className=\"mediaGenres\">\n              {data?.genres?.map((genre) => (\n                <span key={genre.id}>{genre.name}</span>\n              ))}\n            </div>\n            <div>\n              <h3>Status</h3>\n              <p>{data?.status}</p>\n            </div>\n            {data?.overview ? (\n              <div>\n                <h3>Overview</h3>\n                <ReadMore text={data?.overview} />\n              </div>\n            ) : null}\n          </MediaDescription>\n        </ImageContainer>\n      </MediaScreenContainer>\n      <SectionWithBGColor id=\"actors\">\n        <Header>\n          <h1>Actors</h1>\n        </Header>\n        <MediaScroller\n          list={actorsList}\n          ratio=\"2/3\"\n          loading={isFetching}\n          mediaType={\"person\"}\n        />\n      </SectionWithBGColor>\n      {recommendationsList.length ? (\n        <MediaGridSection\n          id=\"recommendations\"\n          gridItemSize={recommendationGridItemWidth}\n        >\n          <Header>\n            <h1>Recommendations</h1>\n          </Header>\n\n          <div className=\"mediaGrid\">\n            {recommendationsList.map((item, index) => (\n              <MediaListItem\n                key={item.id || index}\n                item={item}\n                ratio=\"16/9\"\n                mediaType={\"tv\"}\n                size={7}\n              />\n            ))}\n          </div>\n        </MediaGridSection>\n      ) : null}\n    </>\n  );\n};\nexport default Tv;\n","import { RouteComponentProps } from \"@reach/router\";\nimport { memo, useCallback, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"../components/Button\";\nimport DropDown from \"../components/DropDown\";\nimport MediaListItem, { ListItemType } from \"../components/MediaListItem\";\nimport {\n  ButtonContainer,\n  Header,\n  MediaGridSection,\n} from \"../components/StyledElements\";\nimport useDiscoverContent from \"../hooks/data/useDiscoverContent\";\nimport useGenres from \"../hooks/data/useGenres\";\nimport useLanguage from \"../hooks/data/useLanguage\";\nimport useInView from \"../hooks/useInView\";\nimport { StatusType } from \"../types/common\";\nimport { DiscoverTv } from \"../types/Tv\";\nimport {\n  getImageHeightAndWidth,\n  getImageSrc,\n  getReleaseDate,\n} from \"../utils/utils\";\n\nconst DropDownContainer = styled.div`\n  width: calc(${(props) => props.theme.size.xxxl} * 7);\n  padding: ${(props) => props.theme.size.xs};\n\n  & > span {\n    font-weight: 600;\n    color: ${(props) => props.theme.colors.brand};\n  }\n`;\n\nconst Filters = styled.div`\n  display: flex;\n  padding: ${(props) => props.theme.size.xs};\n`;\nconst mediaItemSize = 10;\n\nconst TvShows = (props: RouteComponentProps) => {\n  const { data } = useGenres();\n  const { tvGenres = [] } = data || {};\n  const { data: languages = [] } = useLanguage();\n\n  const [selectedLanguage, setSelectedLanguage] = useState(\"en\");\n  const [selectedGenre, setSelectedGenre] = useState<number>();\n  const [status, setStatus] = useState<StatusType>(\"latest\");\n\n  const languageOptions = languages.map((item, index) => ({\n    id: index,\n    label: item.english_name,\n  }));\n  const genreOptions = tvGenres.map(({ name }, index) => ({\n    id: index,\n    label: name,\n  }));\n\n  const handleButton = useCallback(() => {\n    setStatus(status === \"latest\" ? \"upcoming\" : \"latest\");\n  }, [status]);\n  const { ref, inView } = useInView();\n\n  const {\n    data: tvShows,\n    isFetching,\n    hasNextPage,\n    fetchNextPage,\n  } = useDiscoverContent(\"tv\", status, selectedLanguage, selectedGenre);\n\n  useEffect(() => {\n    if (inView && hasNextPage && !isFetching) {\n      fetchNextPage();\n    }\n  }, [fetchNextPage, hasNextPage, inView, isFetching]);\n\n  const { pages = [] } = tvShows || {};\n\n  const [, recommendationGridItemWidth] = getImageHeightAndWidth(\n    \"2/3\",\n    mediaItemSize\n  );\n\n  return (\n    <>\n      <MediaGridSection id=\"tvshows\" gridItemSize={recommendationGridItemWidth}>\n        <Header>\n          <h1>TV Shows</h1>\n          <ButtonContainer>\n            <Button\n              primary={status === \"latest\"}\n              disabled={status === \"latest\"}\n              onClick={handleButton}\n            >\n              Latest\n            </Button>\n            <Button\n              primary={status === \"upcoming\"}\n              disabled={status === \"upcoming\"}\n              onClick={handleButton}\n            >\n              Upcoming\n            </Button>\n          </ButtonContainer>\n        </Header>\n        <Filters>\n          <DropDownContainer>\n            <span>Select Language</span>\n            <DropDown\n              options={languageOptions}\n              onSelect={(id) => {\n                if (id) setSelectedLanguage(languages[id].iso_639_1);\n              }}\n            />\n          </DropDownContainer>\n\n          <DropDownContainer>\n            <span>Select Genre</span>\n            <DropDown\n              options={genreOptions}\n              onSelect={(id) => {\n                if (id) setSelectedGenre(tvGenres[id].id);\n              }}\n            />\n          </DropDownContainer>\n        </Filters>\n        <div className=\"mediaGrid\">\n          {pages.map((page, index) => (\n            <TVPageData page={page} key={index} />\n          ))}\n          {isFetching\n            ? (Array(10).fill({ image: {} }) as ListItemType[]).map(\n                (item, index) => (\n                  <MediaListItem\n                    key={item.id || index}\n                    item={item}\n                    ratio=\"2/3\"\n                    mediaType={\"movie\"}\n                    size={mediaItemSize}\n                  />\n                )\n              )\n            : null}\n        </div>\n        <button style={{ visibility: \"hidden\" }} ref={ref}></button>\n      </MediaGridSection>\n    </>\n  );\n};\n\nconst TVPageData = memo(({ page }: { page: DiscoverTv }) => {\n  const { results } = page;\n  if (results.length === 0) {\n    return <h3>No Results Found </h3>;\n  }\n  const items = results.map((item) => ({\n    id: item.id,\n    image: getImageSrc(item.poster_path, \"poster\"),\n    title: item.name,\n    caption: getReleaseDate(item.first_air_date),\n  }));\n  return (\n    <>\n      {items.map((item, index) => (\n        <MediaListItem\n          key={item.id || index}\n          item={item}\n          ratio=\"2/3\"\n          mediaType={\"tv\"}\n          size={mediaItemSize}\n        />\n      ))}\n    </>\n  );\n});\n\nexport default TvShows;\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const getTheme = (isDarkMode = false) => {\r\n  /* brand foundation */\r\n  const hue = \"40\";\r\n  const saturation = \"100%\";\r\n  const lightness = \"50%\";\r\n\r\n  /* light */\r\n  const light = {\r\n    brand: `hsl(${hue} ${saturation} ${lightness})`,\r\n    text1: `hsl(${hue} ${saturation} 10%)`,\r\n    text2: `hsl(${hue} 30% 30%)`,\r\n    surface1: `hsl(${hue} 25% 90%)`,\r\n    surface2: `hsl(${hue} 20% 99%)`,\r\n    surface3: `hsl(${hue} 20% 92%)`,\r\n    surface4: `hsl(${hue} 20% 85%)`,\r\n  };\r\n\r\n  const dark = {\r\n    brand: `hsl(${hue} calc(${saturation} / 2) calc(${lightness} / 1.5))`,\r\n    text1: `hsl(${hue} 15% 85%)`,\r\n    text2: `hsl(${hue} 5% 65%)`,\r\n    surface1: `hsl(${hue} 10% 10%)`,\r\n    surface2: `hsl(${hue} 10% 15%)`,\r\n    surface3: `hsl(${hue} 5% 20%)`,\r\n    surface4: `hsl(${hue} 5% 25%)`,\r\n  };\r\n\r\n  function sizeStepUp(n: number, up = true): string {\r\n    let result = 1;\r\n    const typeScale = 1.25;\r\n    while (n > 1) {\r\n      result = up ? result * typeScale : result / typeScale;\r\n      n--;\r\n    }\r\n    return `calc(1rem * ${result})`;\r\n  }\r\n  const colors = isDarkMode ? dark : light;\r\n  return {\r\n    colors,\r\n    size: {\r\n      xxxs: sizeStepUp(5, false),\r\n      xxs: sizeStepUp(4, false),\r\n      xs: sizeStepUp(3, false),\r\n      sm: sizeStepUp(2, false),\r\n      md: sizeStepUp(1),\r\n      lg: sizeStepUp(2),\r\n      xl: sizeStepUp(3),\r\n      xxl: sizeStepUp(4),\r\n      xxxl: sizeStepUp(5),\r\n    },\r\n    mediaQueries: {\r\n      below1400: \"only screen and (max-width: 1400px)\",\r\n      below768: \"only screen and (max-width: 768px)\",\r\n      below375: \"only screen and (max-width: 375px)\",\r\n    },\r\n    getColorWithOpacity: (color: keyof typeof colors, opacity: number) => {\r\n      const colorStr = colors[color];\r\n      const [hue, saturation, lightness] =\r\n        colorStr.match(/\\d+/g)?.map(Number) ?? [];\r\n      return `hsla(${hue}, ${saturation}%, ${lightness}%, ${opacity})`;\r\n    },\r\n  };\r\n};\r\n\r\nconst theme = getTheme();\r\ntype ThemeType = typeof theme;\r\ndeclare module \"styled-components\" {\r\n  export interface DefaultTheme extends ThemeType {}\r\n}\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n  html {\r\n    /* grow as per screen width */\r\n    font-size: calc(1px + 1vw);\r\n    line-height: calc(1.5rem + 0.5vw);\r\n    block-size: 100%;\r\n    background-color: ${({ theme }) => theme.colors.surface1};\r\n    color: ${({ theme }) => theme.colors.text1};\r\n    font-family: 'Roboto Mono', monospace, system-ui, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n\r\n    @media ${({ theme }) => theme.mediaQueries.below1400} {\r\n      font-size: 16px;\r\n    }\r\n\r\n    @media ${({ theme }) => theme.mediaQueries.below768} {\r\n      font-size: 14px;\r\n    }\r\n\r\n    @media ${({ theme }) => theme.mediaQueries.below375} {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n\r\n  body {\r\n    background-color: ${({ theme }) => theme.colors.surface1};\r\n  }\r\n\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  section {\r\n    padding-block: 1rem;\r\n  }\r\n\r\n  a {\r\n    color: inherit;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n","import { Router } from \"@reach/router\";\nimport { SkeletonTheme } from \"react-loading-skeleton\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\nimport { ThemeProvider } from \"styled-components\";\nimport { appContext } from \"./AppContext\";\nimport Home from \"./sections/Home\";\nimport Movie from \"./sections/Movie\";\nimport Movies from \"./sections/Movies\";\nimport NavBar from \"./sections/NavBar\";\nimport Person from \"./sections/Person\";\nimport Search from \"./sections/Search\";\nimport Tv from \"./sections/Tv\";\nimport TvShows from \"./sections/TvShows\";\nimport { getTheme, GlobalStyles } from \"./styles/theme\";\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n    },\n  },\n});\n\nfunction App() {\n  const { isDarkMode, displaySearch } = appContext();\n  const theme = getTheme(isDarkMode);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalStyles />\n      <SkeletonTheme\n        color={theme.colors.surface2}\n        highlightColor={theme.colors.surface1}\n      >\n        <QueryClientProvider client={queryClient}>\n          <ReactQueryDevtools />\n          <NavBar />\n          {displaySearch ? <Search /> : null}\n          <Router basepath={process.env.PUBLIC_URL} primary={false}>\n            <Home path=\"/\" />\n            <Movies path=\"/movie\" />\n            <TvShows path=\"tv\" />\n            <Movie path=\"/movie/:movieId\" />\n            <Tv path=\"/tv/:tvId\" />\n            <Person path=\"/person/:personId\" />\n          </Router>\n        </QueryClientProvider>\n      </SkeletonTheme>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AppContextProvider } from \"./AppContext\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContextProvider>\n      <App />\n    </AppContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}